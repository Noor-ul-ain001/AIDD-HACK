"use strict";(globalThis.webpackChunkphysical_ai_platform_frontend=globalThis.webpackChunkphysical_ai_platform_frontend||[]).push([[7265],{8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var i=r(6540);const a={},o=i.createContext(a);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:n},e.children)}},8680:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>g,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"module-2/week-1-introduction/2-2-gazebo-installation-setup","title":"2.2: Gazebo Installation and Setup for ROS 2","description":"Overview","source":"@site/docs/module-2/week-1-introduction/2-2-gazebo-installation-setup.md","sourceDirName":"module-2/week-1-introduction","slug":"/module-2/week-1-introduction/2-2-gazebo-installation-setup","permalink":"/docs/module-2/week-1-introduction/2-2-gazebo-installation-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/noor-ana/physical-ai-platform/tree/main/docs/module-2/week-1-introduction/2-2-gazebo-installation-setup.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"difficulty":"intermediate"},"sidebar":"tutorialSidebar","previous":{"title":"2.1: Overview of Robot Simulation","permalink":"/docs/module-2/week-1-introduction/2-1-overview-of-robot-simulation"},"next":{"title":"2.3: Basic Simulation Concepts and World Building","permalink":"/docs/module-2/week-1-introduction/2-3-basic-simulation-concepts"}}');var a=r(4848),o=r(8453);const s={sidebar_position:2,difficulty:"intermediate"},t="2.2: Gazebo Installation and Setup for ROS 2",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Gazebo Overview",id:"gazebo-overview",level:2},{value:"Gazebo Versions",id:"gazebo-versions",level:3},{value:"Gazebo Architecture",id:"gazebo-architecture",level:3},{value:"Installing Gazebo Classic (Gazebo 11)",id:"installing-gazebo-classic-gazebo-11",level:2},{value:"Ubuntu Installation",id:"ubuntu-installation",level:3},{value:"Installing Gazebo ROS Packages for Classic",id:"installing-gazebo-ros-packages-for-classic",level:3},{value:"Installing Ignition Gazebo (Recommended)",id:"installing-ignition-gazebo-recommended",level:2},{value:"Ubuntu Installation for Ignition Fortress",id:"ubuntu-installation-for-ignition-fortress",level:3},{value:"Alternative: Installing Ignition Gazebo Garden (More Recent)",id:"alternative-installing-ignition-gazebo-garden-more-recent",level:3},{value:"Installing ROS 2 Ignition Packages",id:"installing-ros-2-ignition-packages",level:3},{value:"Environment Configuration",id:"environment-configuration",level:2},{value:"Setting Environment Variables",id:"setting-environment-variables",level:3},{value:"Configuring the Network Interface (if needed)",id:"configuring-the-network-interface-if-needed",level:3},{value:"Testing Gazebo Installation",id:"testing-gazebo-installation",level:2},{value:"Testing Gazebo Classic",id:"testing-gazebo-classic",level:3},{value:"Testing Ignition Gazebo",id:"testing-ignition-gazebo",level:3},{value:"Setting up ROS 2 Workspaces",id:"setting-up-ros-2-workspaces",level:2},{value:"Creating a Simulation Package",id:"creating-a-simulation-package",level:3},{value:"Package.xml for Gazebo Integration",id:"packagexml-for-gazebo-integration",level:3},{value:"CMakeLists.txt for Gazebo Integration",id:"cmakeliststxt-for-gazebo-integration",level:3},{value:"Gazebo Model and World Creation",id:"gazebo-model-and-world-creation",level:2},{value:"Basic World File",id:"basic-world-file",level:3},{value:"Launch File for Gazebo Integration",id:"launch-file-for-gazebo-integration",level:3},{value:"Troubleshooting Common Installation Issues",id:"troubleshooting-common-installation-issues",level:2},{value:"1. Gazebo fails to start with graphics errors",id:"1-gazebo-fails-to-start-with-graphics-errors",level:3},{value:"2. Shared library errors",id:"2-shared-library-errors",level:3},{value:"3. ROS 2 plugin not found",id:"3-ros-2-plugin-not-found",level:3},{value:"4. Permission issues",id:"4-permission-issues",level:3},{value:"Testing ROS 2 Integration",id:"testing-ros-2-integration",level:2},{value:"Basic Integration Test",id:"basic-integration-test",level:3},{value:"Running the Integration Test",id:"running-the-integration-test",level:3},{value:"Configuring Gazebo for Optimal Performance",id:"configuring-gazebo-for-optimal-performance",level:2},{value:"Performance Settings",id:"performance-settings",level:3},{value:"Sample Performance Configuration",id:"sample-performance-configuration",level:3},{value:"Summary",id:"summary",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"22-gazebo-installation-and-setup-for-ros-2",children:"2.2: Gazebo Installation and Setup for ROS 2"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"This submodule provides comprehensive instructions for installing and setting up Gazebo for use with ROS 2. We'll cover the installation process, configuration, and initial testing to ensure proper integration with the ROS 2 ecosystem."}),"\n",(0,a.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,a.jsx)(n.p,{children:"By the end of this submodule, you will:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Install Gazebo in multiple configurations (Gazebo Classic, Ignition Gazebo)"}),"\n",(0,a.jsx)(n.li,{children:"Configure Gazebo for use with ROS 2"}),"\n",(0,a.jsx)(n.li,{children:"Understand Gazebo's architecture and components"}),"\n",(0,a.jsx)(n.li,{children:"Test basic Gazebo functionality with ROS 2"}),"\n",(0,a.jsx)(n.li,{children:"Set up the Gazebo environment for robotics development"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"gazebo-overview",children:"Gazebo Overview"}),"\n",(0,a.jsx)(n.h3,{id:"gazebo-versions",children:"Gazebo Versions"}),"\n",(0,a.jsx)(n.p,{children:"There are two main versions of Gazebo relevant to ROS 2 development:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gazebo Classic (Gazebo 11 and earlier)"}),": The legacy version, now in maintenance mode"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Ignition Gazebo (Fortress, Garden, Harmonic)"}),": The next-generation simulation framework"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"For ROS 2 Humble and newer distributions, Ignition Gazebo is the recommended version, though Gazebo Classic is still supported."}),"\n",(0,a.jsx)(n.h3,{id:"gazebo-architecture",children:"Gazebo Architecture"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo consists of several key components:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gazebo Server"}),": Headless physics simulation engine"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gazebo Client"}),": Graphical interface for visualization"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gazebo Plugins"}),": Extensible functionality through plugins"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Fuel"}),": Online model and world repository"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Libraries"}),": Core simulation libraries"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"installing-gazebo-classic-gazebo-11",children:"Installing Gazebo Classic (Gazebo 11)"}),"\n",(0,a.jsx)(n.h3,{id:"ubuntu-installation",children:"Ubuntu Installation"}),"\n",(0,a.jsx)(n.p,{children:"For Ubuntu 22.04 (Jammy) with ROS 2 Humble:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Add the OSRF APT repository\r\nsudo apt update && sudo apt install wget\r\nsudo wget https://packages.osrfoundation.org/gazebo.gpg -O /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg\r\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list > /dev/null\r\n\r\n# Update APT cache\r\nsudo apt update\r\n\r\n# Install Gazebo 11\r\nsudo apt install gazebo11 libgazebo11-dev\n'})}),"\n",(0,a.jsx)(n.h3,{id:"installing-gazebo-ros-packages-for-classic",children:"Installing Gazebo ROS Packages for Classic"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install ROS 2 Gazebo packages\r\nsudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-plugins ros-humble-gazebo-dev\n"})}),"\n",(0,a.jsx)(n.h2,{id:"installing-ignition-gazebo-recommended",children:"Installing Ignition Gazebo (Recommended)"}),"\n",(0,a.jsx)(n.h3,{id:"ubuntu-installation-for-ignition-fortress",children:"Ubuntu Installation for Ignition Fortress"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# Add the OSRF APT repository (if not already done)\r\nsudo apt update && sudo apt install wget\r\nsudo wget https://packages.osrfoundation.org/gazebo.gpg -O /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg\r\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list > /dev/null\r\n\r\n# Update APT cache\r\nsudo apt update\r\n\r\n# Install Ignition Fortress\r\nsudo apt install ignition-fortress\n'})}),"\n",(0,a.jsx)(n.h3,{id:"alternative-installing-ignition-gazebo-garden-more-recent",children:"Alternative: Installing Ignition Gazebo Garden (More Recent)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# For Ubuntu 22.04 with more recent Ignition Gazebo\r\nsudo apt install ignition-garden\n"})}),"\n",(0,a.jsx)(n.h3,{id:"installing-ros-2-ignition-packages",children:"Installing ROS 2 Ignition Packages"}),"\n",(0,a.jsx)(n.p,{children:"For ROS 2 Humble with Ignition Gazebo:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install ROS 2 Ignition Gazebo packages\r\nsudo apt install ros-humble-ign-ros2-control ros-humble-ign-ros2-control-demos ros-humble-ros-gz\n"})}),"\n",(0,a.jsx)(n.h2,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"setting-environment-variables",children:"Setting Environment Variables"}),"\n",(0,a.jsxs)(n.p,{children:["Add the following to your ",(0,a.jsx)(n.code,{children:"~/.bashrc"})," to ensure Gazebo works properly:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Gazebo Classic\r\nexport GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:$HOME/.gazebo/models:/usr/share/gazebo-11/models\r\nexport GAZEBO_RESOURCE_PATH=$GAZEBO_RESOURCE_PATH:$HOME/.gazebo:/usr/share/gazebo-11\r\n\r\n# For Ignition Gazebo (adjust version as needed)\r\nexport IGN_GAZEBO_RESOURCE_PATH=$IGN_GAZEBO_RESOURCE_PATH:$HOME/.ignition/gazebo:/usr/share/ignition/garden\n"})}),"\n",(0,a.jsx)(n.p,{children:"To apply these changes:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"source ~/.bashrc\n"})}),"\n",(0,a.jsx)(n.h3,{id:"configuring-the-network-interface-if-needed",children:"Configuring the Network Interface (if needed)"}),"\n",(0,a.jsx)(n.p,{children:"On some systems, you may need to configure the network interface for Gazebo:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check current network configuration\r\nifconfig\r\n\r\n# If Gazebo fails to start, try:\r\necho 'export ROS_LOCALHOST_ONLY=1' >> ~/.bashrc\r\nsource ~/.bashrc\n"})}),"\n",(0,a.jsx)(n.h2,{id:"testing-gazebo-installation",children:"Testing Gazebo Installation"}),"\n",(0,a.jsx)(n.h3,{id:"testing-gazebo-classic",children:"Testing Gazebo Classic"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Start Gazebo server (headless)\r\ngzserver --verbose\r\n\r\n# In another terminal, start Gazebo client (GUI)\r\ngzclient --verbose\r\n\r\n# Or start both together\r\ngazebo --verbose\n"})}),"\n",(0,a.jsx)(n.h3,{id:"testing-ignition-gazebo",children:"Testing Ignition Gazebo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# List available Ignition commands\r\nign --help\r\n\r\n# Start Ignition Gazebo with a simple world\r\nign gazebo shapes.sdf\r\n\r\n# Or start with empty world\r\nign gazebo -r -v 4 # -r auto-start, -v 4 verbose level\n"})}),"\n",(0,a.jsx)(n.h2,{id:"setting-up-ros-2-workspaces",children:"Setting up ROS 2 Workspaces"}),"\n",(0,a.jsx)(n.h3,{id:"creating-a-simulation-package",children:"Creating a Simulation Package"}),"\n",(0,a.jsx)(n.p,{children:"Create a new package for your simulation projects:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src\r\nros2 pkg create --build-type ament_cmake my_robot_gazebo --dependencies \\\r\n  rclcpp \\\r\n  std_msgs \\\r\n  geometry_msgs \\\r\n  sensor_msgs \\\r\n  gazebo_ros_pkgs \\\r\n  gazebo_plugins \\\r\n  gazebo_dev \\\r\n  robot_state_publisher \\\r\n  joint_state_publisher \\\r\n  xacro\n"})}),"\n",(0,a.jsx)(n.h3,{id:"packagexml-for-gazebo-integration",children:"Package.xml for Gazebo Integration"}),"\n",(0,a.jsxs)(n.p,{children:["Ensure your ",(0,a.jsx)(n.code,{children:"package.xml"})," includes the necessary dependencies:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>my_robot_gazebo</name>\r\n  <version>0.1.0</version>\r\n  <description>Simulation package for my robot</description>\r\n  <maintainer email="user@example.com">User</maintainer>\r\n  <license>Apache-2.0</license>\r\n\r\n  <buildtool_depend>ament_cmake</buildtool_depend>\r\n\r\n  <depend>rclcpp</depend>\r\n  <depend>std_msgs</depend>\r\n  <depend>geometry_msgs</depend>\r\n  <depend>sensor_msgs</depend>\r\n  <depend>gazebo_ros_pkgs</depend>\r\n  <depend>gazebo_plugins</depend>\r\n  <depend>gazebo_dev</depend>\r\n  <depend>robot_state_publisher</depend>\r\n  <depend>joint_state_publisher</depend>\r\n  <depend>xacro</depend>\r\n\r\n  <test_depend>ament_lint_auto</test_depend>\r\n  <test_depend>ament_lint_common</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_cmake</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"cmakeliststxt-for-gazebo-integration",children:"CMakeLists.txt for Gazebo Integration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\r\nproject(my_robot_gazebo)\r\n\r\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\r\n  add_compile_options(-Wall -Wextra -Wpedantic)\r\nendif()\r\n\r\n# Find dependencies\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(rclcpp REQUIRED)\r\nfind_package(std_msgs REQUIRED)\r\nfind_package(geometry_msgs REQUIRED)\r\nfind_package(sensor_msgs REQUIRED)\r\nfind_package(gazebo_ros_pkgs REQUIRED)\r\nfind_package(gazebo_plugins REQUIRED)\r\nfind_package(gazebo_dev REQUIRED)\r\nfind_package(robot_state_publisher REQUIRED)\r\nfind_package(joint_state_publisher REQUIRED)\r\nfind_package(xacro REQUIRED)\r\n\r\n# Install launch files\r\ninstall(DIRECTORY\r\n  launch\r\n  worlds\r\n  models\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\n# Install other resources\r\ninstall(PROGRAMS\r\n  DESTINATION lib/${PROJECT_NAME}\r\n)\r\n\r\nif(BUILD_TESTING)\r\n  find_package(ament_lint_auto REQUIRED)\r\n  set(ament_cmake_copyright_FOUND TRUE)\r\n  set(ament_cmake_flake8_FOUND TRUE)\r\n  set(ament_cmake_pep257_FOUND TRUE)\r\n  ament_lint_auto_find_test_dependencies()\r\nendif()\r\n\r\nament_package()\n'})}),"\n",(0,a.jsx)(n.h2,{id:"gazebo-model-and-world-creation",children:"Gazebo Model and World Creation"}),"\n",(0,a.jsx)(n.h3,{id:"basic-world-file",children:"Basic World File"}),"\n",(0,a.jsxs)(n.p,{children:["Create a simple world file at ",(0,a.jsx)(n.code,{children:"my_robot_gazebo/worlds/my_world.world"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="my_world">\r\n    \x3c!-- Include a model from Gazebo\'s model database --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n    \r\n    \x3c!-- Include the sun --\x3e\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n    \r\n    \x3c!-- Add your own models here --\x3e\r\n    <model name="my_robot">\r\n      <pose>0 0 1 0 0 0</pose>\r\n      <include>\r\n        <uri>model://my_robot_model</uri>\r\n      </include>\r\n    </model>\r\n    \r\n    \x3c!-- Physics parameters --\x3e\r\n    <physics name="1ms" type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n    </physics>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"launch-file-for-gazebo-integration",children:"Launch File for Gazebo Integration"}),"\n",(0,a.jsxs)(n.p,{children:["Create a launch file at ",(0,a.jsx)(n.code,{children:"my_robot_gazebo/launch/my_robot_gazebo.launch.py"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import os\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import IncludeLaunchDescription\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\nfrom launch.substitutions import Command\r\nfrom launch.actions import ExecuteProcess\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\n\r\ndef generate_launch_description():\r\n    # Get the package directory\r\n    pkg_share = get_package_share_directory('my_robot_gazebo')\r\n    \r\n    # Get the URDF file\r\n    urdf_file = os.path.join(pkg_share, 'urdf', 'my_robot.urdf')\r\n    \r\n    # Get the world file\r\n    world_file = os.path.join(pkg_share, 'worlds', 'my_world.world')\r\n    \r\n    # Launch Gazebo with the world\r\n    gazebo = ExecuteProcess(\r\n        cmd=['gazebo', '--verbose', world_file, '-s', 'libgazebo_ros_init.so', '-s', 'libgazebo_ros_factory.so'],\r\n        output='screen'\r\n    )\r\n    \r\n    # Robot State Publisher\r\n    robot_state_publisher = Node(\r\n        package='robot_state_publisher',\r\n        executable='robot_state_publisher',\r\n        name='robot_state_publisher',\r\n        parameters=[{'robot_description': Command(['xacro ', urdf_file])}]\r\n    )\r\n    \r\n    # Spawn the robot in Gazebo\r\n    spawn_entity = Node(\r\n        package='gazebo_ros',\r\n        executable='spawn_entity.py',\r\n        arguments=['-topic', 'robot_description', '-entity', 'my_robot'],\r\n        output='screen'\r\n    )\r\n\r\n    return LaunchDescription([\r\n        gazebo,\r\n        robot_state_publisher,\r\n        spawn_entity\r\n    ])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting-common-installation-issues",children:"Troubleshooting Common Installation Issues"}),"\n",(0,a.jsx)(n.h3,{id:"1-gazebo-fails-to-start-with-graphics-errors",children:"1. Gazebo fails to start with graphics errors"}),"\n",(0,a.jsx)(n.p,{children:"If you encounter graphics-related errors:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Try running with software rendering\r\nexport LIBGL_ALWAYS_SOFTWARE=1\r\ngazebo\r\n\r\n# Or try with OGRE rendering\r\nexport GAZEBO_RENDER_ENGINE=ogre\r\ngazebo\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-shared-library-errors",children:"2. Shared library errors"}),"\n",(0,a.jsx)(n.p,{children:"If you get shared library linking errors after installation:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Update library cache\r\nsudo ldconfig\r\n\r\n# Check if libraries are properly linked\r\nldd $(which gazebo)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-ros-2-plugin-not-found",children:"3. ROS 2 plugin not found"}),"\n",(0,a.jsx)(n.p,{children:"If Gazebo plugins for ROS 2 don't load:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check if gazebo_ros_pkgs are properly installed\r\ndpkg -l | grep gazebo\r\n\r\n# Check Gazebo plugin path\r\necho $GAZEBO_PLUGIN_PATH\r\n\r\n# If path is missing, add it\r\nexport GAZEBO_PLUGIN_PATH=/usr/lib/x86_64-linux-gnu/gazebo-11/plugins:$GAZEBO_PLUGIN_PATH\n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-permission-issues",children:"4. Permission issues"}),"\n",(0,a.jsx)(n.p,{children:"If you get permission errors:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Check the permissions of Gazebo directories\r\nls -la ~/.gazebo\r\n\r\n# Fix permissions if needed\r\nchmod -R 755 ~/.gazebo\n"})}),"\n",(0,a.jsx)(n.h2,{id:"testing-ros-2-integration",children:"Testing ROS 2 Integration"}),"\n",(0,a.jsx)(n.h3,{id:"basic-integration-test",children:"Basic Integration Test"}),"\n",(0,a.jsx)(n.p,{children:"Let's create a simple test to verify ROS 2 and Gazebo integration:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Create a simple launch directory structure\r\nmkdir -p ~/ros2_ws/src/my_robot_gazebo/launch\r\n\r\n# Create a simple launch file\r\n# (We'll use the launch file from above)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"running-the-integration-test",children:"Running the Integration Test"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Build the workspace\r\ncd ~/ros2_ws\r\ncolcon build --packages-select my_robot_gazebo\r\n\r\n# Source the workspace\r\nsource install/setup.bash\r\n\r\n# Try running Gazebo with ROS 2 plugins\r\ngazebo --verbose\r\n\r\n# In another terminal, check if Gazebo topics are available\r\nros2 topic list | grep gazebo\n"})}),"\n",(0,a.jsx)(n.h2,{id:"configuring-gazebo-for-optimal-performance",children:"Configuring Gazebo for Optimal Performance"}),"\n",(0,a.jsx)(n.h3,{id:"performance-settings",children:"Performance Settings"}),"\n",(0,a.jsx)(n.p,{children:"To optimize Gazebo performance, consider these settings:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Physics Update Rate"}),": Adjust according to simulation needs"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Real-time Factor"}),": Balance between simulation speed and accuracy"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Visual Quality"}),": Adjust graphics settings based on hardware"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"sample-performance-configuration",children:"Sample Performance Configuration"}),"\n",(0,a.jsx)(n.p,{children:"In your world file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<physics name="fast_physics" type="ode">\r\n  <max_step_size>0.01</max_step_size>        \x3c!-- Larger step = faster but less accurate --\x3e\r\n  <real_time_factor>1</real_time_factor>     \x3c!-- 1.0 = real-time --\x3e\r\n  <real_time_update_rate>100</real_time_update_rate>  \x3c!-- Update rate in Hz --\x3e\r\n</physics>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(n.p,{children:"This submodule covered the installation and setup of Gazebo for ROS 2, including:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Installing both Gazebo Classic and Ignition Gazebo"}),"\n",(0,a.jsx)(n.li,{children:"Configuring environment variables"}),"\n",(0,a.jsx)(n.li,{children:"Creating Gazebo models and worlds"}),"\n",(0,a.jsx)(n.li,{children:"Setting up ROS 2 packages for simulation"}),"\n",(0,a.jsx)(n.li,{children:"Troubleshooting common installation issues"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Proper Gazebo setup is essential for effective robot simulation. In the next submodule, we'll explore Gazebo basics including launching simulations, controlling robots, and working with sensors in the simulation environment."})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);
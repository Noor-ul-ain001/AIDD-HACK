"use strict";(globalThis.webpackChunkphysical_ai_platform_frontend=globalThis.webpackChunkphysical_ai_platform_frontend||[]).push([[9187],{987:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>_,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"module-1/week-3-services-actions/3-4-communication-practical-exercises","title":"3.4: Practical Exercises - Communication Patterns Integration","description":"Overview","source":"@site/docs/module-1/week-3-services-actions/3-4-communication-practical-exercises.md","sourceDirName":"module-1/week-3-services-actions","slug":"/module-1/week-3-services-actions/3-4-communication-practical-exercises","permalink":"/docs/module-1/week-3-services-actions/3-4-communication-practical-exercises","draft":false,"unlisted":false,"editUrl":"https://github.com/noor-ana/physical-ai-platform/tree/main/docs/module-1/week-3-services-actions/3-4-communication-practical-exercises.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"difficulty":"beginner"},"sidebar":"tutorialSidebar","previous":{"title":"3.3: Comparison of Communication Patterns - Topic vs Service vs Action","permalink":"/docs/module-1/week-3-services-actions/3-3-comparison-topic-service-action"},"next":{"title":"4.1: Understanding ROS 2 TF2 (Transform Library)","permalink":"/docs/module-1/week-4-tf-urdf/4-1-understanding-tf2"}}');var t=n(4848),i=n(8453);const a={sidebar_position:4,difficulty:"beginner"},o="3.4: Practical Exercises - Communication Patterns Integration",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Exercise 1: Complete Robotic System Design",id:"exercise-1-complete-robotic-system-design",level:2},{value:"Objective",id:"objective",level:3},{value:"System Architecture",id:"system-architecture",level:3},{value:"Step 1: Create the Package",id:"step-1-create-the-package",level:3},{value:"Step 2: Define Custom Messages and Actions",id:"step-2-define-custom-messages-and-actions",level:3},{value:"Step 3: Update package.xml",id:"step-3-update-packagexml",level:3},{value:"Step 4: Update setup.py",id:"step-4-update-setuppy",level:3},{value:"Exercise 2: Sensor Publisher (Topics)",id:"exercise-2-sensor-publisher-topics",level:2},{value:"Objective",id:"objective-1",level:3},{value:"Implementation",id:"implementation",level:3},{value:"Exercise 3: Service Server (Services)",id:"exercise-3-service-server-services",level:2},{value:"Objective",id:"objective-2",level:3},{value:"Implementation",id:"implementation-1",level:3},{value:"Exercise 4: Action Server (Actions)",id:"exercise-4-action-server-actions",level:2},{value:"Objective",id:"objective-3",level:3},{value:"Implementation",id:"implementation-2",level:3},{value:"Exercise 5: System Monitor Node",id:"exercise-5-system-monitor-node",level:2},{value:"Objective",id:"objective-4",level:3},{value:"Implementation",id:"implementation-3",level:3},{value:"Exercise 6: Launch File and System Integration",id:"exercise-6-launch-file-and-system-integration",level:2},{value:"Objective",id:"objective-5",level:3},{value:"Exercise 7: Performance Testing and Comparison",id:"exercise-7-performance-testing-and-comparison",level:2},{value:"Objective",id:"objective-6",level:3},{value:"Exercise 8: Running the Complete System",id:"exercise-8-running-the-complete-system",level:2},{value:"Steps to Execute:",id:"steps-to-execute",level:3},{value:"Summary",id:"summary",level:2},{value:"Additional Challenges",id:"additional-challenges",level:2}];function m(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"34-practical-exercises---communication-patterns-integration",children:"3.4: Practical Exercises - Communication Patterns Integration"})}),"\n",(0,t.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(r.p,{children:"This submodule provides hands-on exercises to integrate and compare all three communication patterns (topics, services, actions) in a comprehensive robotic system. You'll build a complete scenario that demonstrates when and how to use each pattern appropriately."}),"\n",(0,t.jsx)(r.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(r.p,{children:"By the end of this submodule, you will:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Design a complete robotic system using all three communication patterns appropriately"}),"\n",(0,t.jsx)(r.li,{children:"Implement topic-based sensor streaming"}),"\n",(0,t.jsx)(r.li,{children:"Create service-based configuration and query systems"}),"\n",(0,t.jsx)(r.li,{children:"Build action-based goal-oriented task execution"}),"\n",(0,t.jsx)(r.li,{children:"Compare performance characteristics of different patterns"}),"\n",(0,t.jsx)(r.li,{children:"Debug and optimize communication between patterns"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"exercise-1-complete-robotic-system-design",children:"Exercise 1: Complete Robotic System Design"}),"\n",(0,t.jsx)(r.h3,{id:"objective",children:"Objective"}),"\n",(0,t.jsx)(r.p,{children:"Design a complete robot system that uses topics, services, and actions appropriately in a coordinated way."}),"\n",(0,t.jsx)(r.h3,{id:"system-architecture",children:"System Architecture"}),"\n",(0,t.jsx)(r.p,{children:"We'll create a robot navigation system with:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Topics"}),": Sensor data, robot state, system status"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Services"}),": Configuration, calibration, emergency stop"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Actions"}),": Navigation to waypoints, manipulation tasks"]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"step-1-create-the-package",children:"Step 1: Create the Package"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"cd ~/ros2_ws/src\r\nros2 pkg create --build-type ament_python communication_exercises\n"})}),"\n",(0,t.jsx)(r.h3,{id:"step-2-define-custom-messages-and-actions",children:"Step 2: Define Custom Messages and Actions"}),"\n",(0,t.jsxs)(r.p,{children:["Create a file ",(0,t.jsx)(r.code,{children:"msg/RobotStatus.msg"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"# RobotStatus.msg\r\nstd_msgs/Header header\r\nfloat32 battery_level\r\nbool is_charging\r\nstring status_text\r\nint32 error_code\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Create a file ",(0,t.jsx)(r.code,{children:"action/MoveToLocation.action"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"# MoveToLocation.action\r\nstring location_name\r\nfloat32 target_x\r\nfloat32 target_y\r\nfloat32 target_theta\r\n---\r\nbool success\r\nstring message\r\nint32 error_code\r\n---\r\nfloat32 current_x\r\nfloat32 current_y\r\nfloat32 distance_remaining\r\nstring status\n"})}),"\n",(0,t.jsx)(r.h3,{id:"step-3-update-packagexml",children:"Step 3: Update package.xml"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>communication_exercises</name>\r\n  <version>0.1.0</version>\r\n  <description>Communication pattern exercises</description>\r\n  <maintainer email="user@example.com">User</maintainer>\r\n  <license>Apache-2.0</license>\r\n\r\n  <depend>rclpy</depend>\r\n  <depend>std_msgs</depend>\r\n  <depend>geometry_msgs</depend>\r\n  <depend>sensor_msgs</depend>\r\n  <depend>example_interfaces</depend>\r\n\r\n  <buildtool_depend>ament_python</buildtool_depend>\r\n  <build_depend>rosidl_default_generators</build_depend>\r\n  <exec_depend>rosidl_default_runtime</exec_depend>\r\n  <member_of_group>rosidl_interface_packages</member_of_group>\r\n\r\n  <test_depend>ament_copyright</test_depend>\r\n  <test_depend>ament_flake8</test_depend>\r\n  <test_depend>ament_pep257</test_depend>\r\n  <test_depend>python3-pytest</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_python</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,t.jsx)(r.h3,{id:"step-4-update-setuppy",children:"Step 4: Update setup.py"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"from setuptools import setup\r\nfrom glob import glob\r\nimport os\r\n\r\npackage_name = 'communication_exercises'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.1.0',\r\n    packages=[package_name],\r\n    data_files=[\r\n        ('share/ament_index/resource_index/packages',\r\n            ['resource/' + package_name]),\r\n        ('share/' + package_name, ['package.xml']),\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='User',\r\n    maintainer_email='user@example.com',\r\n    description='Communication pattern exercises',\r\n    license='Apache-2.0',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'sensor_publisher = communication_exercises.sensor_publisher:main',\r\n            'service_server = communication_exercises.service_server:main',\r\n            'action_server = communication_exercises.action_server:main',\r\n            'system_monitor = communication_exercises.system_monitor:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exercise-2-sensor-publisher-topics",children:"Exercise 2: Sensor Publisher (Topics)"}),"\n",(0,t.jsx)(r.h3,{id:"objective-1",children:"Objective"}),"\n",(0,t.jsx)(r.p,{children:"Create a sensor publisher that simulates robot sensors using topics for continuous data streaming."}),"\n",(0,t.jsx)(r.h3,{id:"implementation",children:"Implementation"}),"\n",(0,t.jsxs)(r.p,{children:["Create ",(0,t.jsx)(r.code,{children:"communication_exercises/communication_exercises/sensor_publisher.py"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import LaserScan, Imu\r\nfrom geometry_msgs.msg import Twist\r\nfrom std_msgs.msg import Float32\r\nfrom communication_exercises.msg import RobotStatus\r\nimport random\r\nimport math\r\n\r\nclass SensorPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('sensor_publisher')\r\n        \r\n        # Topic publishers for continuous sensor data\r\n        self.laser_pub = self.create_publisher(LaserScan, 'scan', 10)\r\n        self.imu_pub = self.create_publisher(Imu, 'imu/data', 10)\r\n        self.odom_pub = self.create_publisher(Float32, 'odometry', 10)\r\n        self.status_pub = self.create_publisher(RobotStatus, 'robot_status', 10)\r\n        \r\n        # Timer for publishing sensor data (10 Hz)\r\n        self.timer = self.create_timer(0.1, self.publish_sensors)\r\n        \r\n        # Robot state\r\n        self.position_x = 0.0\r\n        self.position_y = 0.0\r\n        self.battery_level = 100.0\r\n        \r\n        self.get_logger().info('Sensor publisher started')\r\n\r\n    def publish_sensors(self):\r\n        # Publish laser scan\r\n        laser_msg = LaserScan()\r\n        laser_msg.header.stamp = self.get_clock().now().to_msg()\r\n        laser_msg.header.frame_id = 'laser_frame'\r\n        laser_msg.angle_min = -math.pi / 2\r\n        laser_msg.angle_max = math.pi / 2\r\n        laser_msg.angle_increment = math.pi / 180  # 1 degree\r\n        laser_msg.time_increment = 0.0\r\n        laser_msg.scan_time = 0.1\r\n        laser_msg.range_min = 0.1\r\n        laser_msg.range_max = 10.0\r\n        \r\n        # Generate simulated laser ranges\r\n        num_ranges = int((laser_msg.angle_max - laser_msg.angle_min) / laser_msg.angle_increment) + 1\r\n        laser_msg.ranges = [random.uniform(0.5, 5.0) for _ in range(num_ranges)]\r\n        \r\n        self.laser_pub.publish(laser_msg)\r\n        \r\n        # Publish IMU data\r\n        imu_msg = Imu()\r\n        imu_msg.header.stamp = self.get_clock().now().to_msg()\r\n        imu_msg.header.frame_id = 'imu_frame'\r\n        \r\n        # Simulate slight movement\r\n        imu_msg.linear_acceleration.x = random.uniform(-0.1, 0.1)\r\n        imu_msg.linear_acceleration.y = random.uniform(-0.1, 0.1)\r\n        imu_msg.linear_acceleration.z = 9.8 + random.uniform(-0.1, 0.1)\r\n        \r\n        self.imu_pub.publish(imu_msg)\r\n        \r\n        # Publish odometry\r\n        odom_msg = Float32()\r\n        self.position_x += random.uniform(-0.05, 0.05)\r\n        self.position_y += random.uniform(-0.05, 0.05)\r\n        odom_msg.data = math.sqrt(self.position_x**2 + self.position_y**2)\r\n        \r\n        self.odom_pub.publish(odom_msg)\r\n        \r\n        # Publish robot status\r\n        status_msg = RobotStatus()\r\n        status_msg.header.stamp = self.get_clock().now().to_msg()\r\n        \r\n        # Simulate battery drain\r\n        self.battery_level -= 0.01\r\n        if self.battery_level < 0:\r\n            self.battery_level = 100.0  # Cycle for demo\r\n            \r\n        status_msg.battery_level = self.battery_level\r\n        status_msg.is_charging = self.battery_level > 95.0\r\n        status_msg.status_text = \"Operational\" if self.battery_level > 20 else \"Low Battery\"\r\n        status_msg.error_code = 0\r\n        \r\n        self.status_pub.publish(status_msg)\r\n        \r\n        self.get_logger().debug(f'Sensors published - Battery: {self.battery_level:.2f}%')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    sensor_publisher = SensorPublisher()\r\n    \r\n    try:\r\n        rclpy.spin(sensor_publisher)\r\n    except KeyboardInterrupt:\r\n        sensor_publisher.get_logger().info('Shutting down sensor publisher...')\r\n    finally:\r\n        sensor_publisher.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exercise-3-service-server-services",children:"Exercise 3: Service Server (Services)"}),"\n",(0,t.jsx)(r.h3,{id:"objective-2",children:"Objective"}),"\n",(0,t.jsx)(r.p,{children:"Create a service server for configuration and emergency operations."}),"\n",(0,t.jsx)(r.h3,{id:"implementation-1",children:"Implementation"}),"\n",(0,t.jsxs)(r.p,{children:["Create ",(0,t.jsx)(r.code,{children:"communication_exercises/communication_exercises/service_server.py"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_srvs.srv import SetBool, Trigger\r\nfrom communication_exercises.srv import SetConfiguration  # You'll need to define this\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass ServiceServer(Node):\r\n    def __init__(self):\r\n        super().__init__('service_server')\r\n        \r\n        # Service servers\r\n        self.emergency_stop_srv = self.create_service(\r\n            SetBool, 'emergency_stop', self.emergency_stop_callback)\r\n        self.calibrate_srv = self.create_service(\r\n            Trigger, 'calibrate_sensors', self.calibrate_callback)\r\n        self.config_srv = self.create_service(\r\n            SetConfiguration, 'set_configuration', self.config_callback)\r\n        \r\n        # Publisher for velocity commands (to implement emergency stop)\r\n        self.cmd_pub = self.create_publisher(Twist, 'cmd_vel', 10)\r\n        \r\n        # Robot configuration parameters\r\n        self.max_velocity = 1.0\r\n        self.safety_distance = 1.0\r\n        \r\n        self.get_logger().info('Service server started')\r\n\r\n    def emergency_stop_callback(self, request, response):\r\n        self.get_logger().info(f'Emergency stop requested: {request.data}')\r\n        \r\n        if request.data:  # Stop requested\r\n            # Publish zero velocity to stop the robot\r\n            stop_msg = Twist()\r\n            stop_msg.linear.x = 0.0\r\n            stop_msg.angular.z = 0.0\r\n            self.cmd_pub.publish(stop_msg)\r\n            response.success = True\r\n            response.message = \"Emergency stop activated\"\r\n            self.get_logger().warn('EMERGENCY STOP ACTIVATED')\r\n        else:  # Resume requested\r\n            response.success = True\r\n            response.message = \"Robot can resume operation\"\r\n            self.get_logger().info('Emergency stop deactivated')\r\n        \r\n        return response\r\n\r\n    def calibrate_callback(self, request, response):\r\n        self.get_logger().info('Starting sensor calibration...')\r\n        \r\n        # Simulate calibration process\r\n        try:\r\n            # In a real system, this might involve:\r\n            # - Taking sensor readings in known conditions\r\n            # - Adjusting internal parameters\r\n            # - Validating sensor operation\r\n            \r\n            # Simulate calibration process\r\n            import time\r\n            time.sleep(2)  # Simulate 2 seconds of calibration\r\n            \r\n            response.success = True\r\n            response.message = \"Calibration completed successfully\"\r\n            self.get_logger().info('Calibration completed')\r\n            \r\n        except Exception as e:\r\n            response.success = False\r\n            response.message = f\"Calibration failed: {str(e)}\"\r\n            self.get_logger().error(f'Calibration error: {e}')\r\n        \r\n        return response\r\n\r\n    def config_callback(self, request, response):\r\n        self.get_logger().info(f'Configuration request: {request.config_name} = {request.config_value}')\r\n        \r\n        # Process configuration changes\r\n        try:\r\n            if request.config_name == \"max_velocity\":\r\n                new_value = float(request.config_value)\r\n                if 0.0 < new_value <= 5.0:  # Validate range\r\n                    self.max_velocity = new_value\r\n                    response.success = True\r\n                    response.message = f\"Max velocity set to {new_value}\"\r\n                else:\r\n                    response.success = False\r\n                    response.message = f\"Invalid max velocity value: {new_value}. Must be 0.0 < value <= 5.0\"\r\n                    \r\n            elif request.config_name == \"safety_distance\":\r\n                new_value = float(request.config_value)\r\n                if 0.1 <= new_value <= 5.0:  # Validate range\r\n                    self.safety_distance = new_value\r\n                    response.success = True\r\n                    response.message = f\"Safety distance set to {new_value}\"\r\n                else:\r\n                    response.success = False\r\n                    response.message = f\"Invalid safety distance value: {new_value}. Must be 0.1 <= value <= 5.0\"\r\n            else:\r\n                response.success = False\r\n                response.message = f\"Unknown configuration parameter: {request.config_name}\"\r\n        \r\n        except ValueError:\r\n            response.success = False\r\n            response.message = f\"Invalid value type for {request.config_name}: {request.config_value}\"\r\n        except Exception as e:\r\n            response.success = False\r\n            response.message = f\"Configuration error: {str(e)}\"\r\n            self.get_logger().error(f'Config error: {e}')\r\n        \r\n        if response.success:\r\n            self.get_logger().info(f'Configuration updated: {response.message}')\r\n        else:\r\n            self.get_logger().warn(f'Configuration failed: {response.message}')\r\n        \r\n        return response\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    service_server = ServiceServer()\r\n    \r\n    try:\r\n        rclpy.spin(service_server)\r\n    except KeyboardInterrupt:\r\n        service_server.get_logger().info('Shutting down service server...')\r\n    finally:\r\n        service_server.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exercise-4-action-server-actions",children:"Exercise 4: Action Server (Actions)"}),"\n",(0,t.jsx)(r.h3,{id:"objective-3",children:"Objective"}),"\n",(0,t.jsx)(r.p,{children:"Create an action server for long-running navigation tasks."}),"\n",(0,t.jsx)(r.h3,{id:"implementation-2",children:"Implementation"}),"\n",(0,t.jsxs)(r.p,{children:["Create ",(0,t.jsx)(r.code,{children:"communication_exercises/communication_exercises/action_server.py"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"import time\r\nimport math\r\nimport rclpy\r\nfrom rclpy.action import ActionServer, CancelResponse, GoalResponse\r\nfrom rclpy.node import Node\r\nfrom communication_exercises.action import MoveToLocation\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass ActionServerNode(Node):\r\n    def __init__(self):\r\n        super().__init__('action_server')\r\n        \r\n        # Action server\r\n        self._action_server = ActionServer(\r\n            self,\r\n            MoveToLocation,\r\n            'move_to_location',\r\n            execute_callback=self.execute_callback,\r\n            goal_callback=self.goal_callback,\r\n            cancel_callback=self.cancel_callback)\r\n        \r\n        # Publisher for velocity commands\r\n        self.cmd_pub = self.create_publisher(Twist, 'cmd_vel', 10)\r\n        \r\n        # Robot state simulation\r\n        self.current_x = 0.0\r\n        self.current_y = 0.0\r\n        self.is_moving = False\r\n        \r\n        self.get_logger().info('Action server started')\r\n\r\n    def goal_callback(self, goal_request):\r\n        self.get_logger().info(f'Received navigation goal: {goal_request.location_name}')\r\n        \r\n        # Validate goal parameters\r\n        if (abs(goal_request.target_x) > 100.0 or \r\n            abs(goal_request.target_y) > 100.0):\r\n            self.get_logger().warn('Goal coordinates out of bounds')\r\n            return GoalResponse.REJECT\r\n        \r\n        self.get_logger().info('Accepting navigation goal')\r\n        return GoalResponse.ACCEPT\r\n\r\n    def cancel_callback(self, goal_handle):\r\n        self.get_logger().info('Received navigation cancel request')\r\n        return CancelResponse.ACCEPT\r\n\r\n    def execute_callback(self, goal_handle):\r\n        self.get_logger().info(f'Executing navigation to {goal_handle.request.location_name}')\r\n        \r\n        # Initialize feedback and result\r\n        feedback_msg = MoveToLocation.Feedback()\r\n        result = MoveToLocation.Result()\r\n        \r\n        # Store original target to calculate distance\r\n        target_x = goal_handle.request.target_x\r\n        target_y = goal_handle.request.target_y\r\n        start_x = self.current_x\r\n        start_y = self.current_y\r\n        \r\n        # Calculate total distance for percentage calculation\r\n        total_distance = math.sqrt((target_x - start_x)**2 + (target_y - start_y)**2)\r\n        \r\n        # Navigation loop\r\n        step = 0\r\n        max_steps = 100  # Max steps to prevent infinite loops\r\n        \r\n        while step < max_steps:\r\n            # Check for cancellation\r\n            if goal_handle.is_cancel_requested:\r\n                goal_handle.canceled()\r\n                result.success = False\r\n                result.message = \"Navigation canceled by user\"\r\n                result.error_code = 1\r\n                \r\n                # Stop the robot\r\n                stop_msg = Twist()\r\n                stop_msg.linear.x = 0.0\r\n                stop_msg.angular.z = 0.0\r\n                self.cmd_pub.publish(stop_msg)\r\n                self.is_moving = False\r\n                \r\n                self.get_logger().info('Navigation canceled')\r\n                return result\r\n\r\n            # Calculate distance to target\r\n            distance_to_target = math.sqrt((target_x - self.current_x)**2 + (target_y - self.current_y)**2)\r\n            \r\n            # Update position gradually (simulating movement)\r\n            if distance_to_target > 0.1:  # If not close enough to target\r\n                # Move towards target\r\n                direction_x = (target_x - self.current_x) / distance_to_target\r\n                direction_y = (target_y - self.current_y) / distance_to_target\r\n                \r\n                # Move 1% of total distance per step\r\n                step_size = total_distance * 0.01\r\n                self.current_x += direction_x * step_size\r\n                self.current_y += direction_y * step_size\r\n                \r\n                # Publish velocity command\r\n                cmd_msg = Twist()\r\n                cmd_msg.linear.x = 0.5  # Move at 0.5 m/s\r\n                cmd_msg.angular.z = 0.0\r\n                self.cmd_pub.publish(cmd_msg)\r\n                self.is_moving = True\r\n            else:\r\n                # Reached target\r\n                cmd_msg = Twist()\r\n                cmd_msg.linear.x = 0.0\r\n                cmd_msg.angular.z = 0.0\r\n                self.cmd_pub.publish(cmd_msg)\r\n                self.is_moving = False\r\n                \r\n                break\r\n            \r\n            # Update and publish feedback\r\n            feedback_msg.current_x = self.current_x\r\n            feedback_msg.current_y = self.current_y\r\n            feedback_msg.distance_remaining = distance_to_target\r\n            feedback_msg.status = f\"Moving to {goal_handle.request.location_name}\"\r\n            \r\n            goal_handle.publish_feedback(feedback_msg)\r\n            \r\n            self.get_logger().debug(\r\n                f'Feedback - Pos: ({self.current_x:.2f}, {self.current_y:.2f}), '\r\n                f'Dist: {distance_to_target:.2f}')\r\n            \r\n            # Sleep to simulate real movement time\r\n            time.sleep(0.2)\r\n            step += 1\r\n        \r\n        # Check if we successfully reached the target\r\n        final_distance = math.sqrt((target_x - self.current_x)**2 + (target_y - self.current_y)**2)\r\n        \r\n        if final_distance <= 0.1:  # Within tolerance\r\n            goal_handle.succeed()\r\n            result.success = True\r\n            result.message = f\"Successfully reached {goal_handle.request.location_name}\"\r\n            result.error_code = 0\r\n            self.get_logger().info(f'Navigation successful: {result.message}')\r\n        else:\r\n            goal_handle.abort()\r\n            result.success = False\r\n            result.message = f\"Failed to reach {goal_handle.request.location_name}, stopped early\"\r\n            result.error_code = 2\r\n            self.get_logger().error(f'Navigation failed: {result.message}')\r\n        \r\n        return result\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    action_server = ActionServerNode()\r\n    \r\n    try:\r\n        rclpy.spin(action_server)\r\n    except KeyboardInterrupt:\r\n        action_server.get_logger().info('Shutting down action server...')\r\n    finally:\r\n        action_server.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exercise-5-system-monitor-node",children:"Exercise 5: System Monitor Node"}),"\n",(0,t.jsx)(r.h3,{id:"objective-4",children:"Objective"}),"\n",(0,t.jsx)(r.p,{children:"Create a system monitor that subscribes to topics, calls services, and uses actions to coordinate the complete system."}),"\n",(0,t.jsx)(r.h3,{id:"implementation-3",children:"Implementation"}),"\n",(0,t.jsxs)(r.p,{children:["Create ",(0,t.jsx)(r.code,{children:"communication_exercises/communication_exercises/system_monitor.py"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom rclpy.action import ActionClient\r\nfrom std_srvs.srv import SetBool, Trigger\r\nfrom communication_exercises.msg import RobotStatus\r\nfrom sensor_msgs.msg import LaserScan\r\nfrom communication_exercises.action import MoveToLocation\r\nimport random\r\n\r\nclass SystemMonitor(Node):\r\n    def __init__(self):\r\n        super().__init__('system_monitor')\r\n        \r\n        # Topic subscriptions\r\n        self.status_sub = self.create_subscription(\r\n            RobotStatus, 'robot_status', self.status_callback, 10)\r\n        self.scan_sub = self.create_subscription(\r\n            LaserScan, 'scan', self.scan_callback, 10)\r\n        \r\n        # Service clients\r\n        self.emergency_client = self.create_client(SetBool, 'emergency_stop')\r\n        self.calibrate_client = self.create_client(Trigger, 'calibrate_sensors')\r\n        \r\n        # Action client\r\n        self.nav_client = ActionClient(self, MoveToLocation, 'move_to_location')\r\n        \r\n        # System state\r\n        self.current_battery = 100.0\r\n        self.safety_mode = False\r\n        self.obstacle_detected = False\r\n        \r\n        # Timer for system monitoring (1 Hz)\r\n        self.monitor_timer = self.create_timer(1.0, self.system_monitor_callback)\r\n        \r\n        # Timer for navigation tasks (5 seconds apart)\r\n        self.nav_timer = self.create_timer(5.0, self.schedule_navigation)\r\n        self.nav_counter = 0\r\n        \r\n        # Wait for services\r\n        while not self.emergency_client.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('Waiting for emergency_stop service...')\r\n        \r\n        while not self.calibrate_client.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('Waiting for calibrate_sensors service...')\r\n        \r\n        self.get_logger().info('System monitor started')\r\n\r\n    def status_callback(self, msg):\r\n        self.current_battery = msg.battery_level\r\n        \r\n        # Check for low battery\r\n        if self.current_battery < 20.0 and not self.safety_mode:\r\n            self.get_logger().warn(f'LOW BATTERY: {self.current_battery:.2f}%')\r\n            self.activate_safety_mode()\r\n    \r\n    def scan_callback(self, msg):\r\n        # Check for nearby obstacles\r\n        min_distance = min(msg.ranges) if msg.ranges else float('inf')\r\n        \r\n        if min_distance < 0.5 and not self.obstacle_detected:\r\n            self.obstacle_detected = True\r\n            self.get_logger().warn(f'OBSTACLE DETECTED: {min_distance:.2f}m')\r\n            \r\n            # Emergency stop if very close\r\n            if min_distance < 0.2:\r\n                self.activate_emergency_stop()\r\n    \r\n    def system_monitor_callback(self):\r\n        # Log system status\r\n        self.get_logger().info(\r\n            f'System Status - Battery: {self.current_battery:.2f}%, '\r\n            f'Safety: {self.safety_mode}, Obstacles: {self.obstacle_detected}')\r\n    \r\n    def schedule_navigation(self):\r\n        # Every 5 seconds, try a navigation task\r\n        self.nav_counter += 1\r\n        \r\n        if not self.safety_mode and not self.obstacle_detected:\r\n            # Generate random target coordinates\r\n            target_x = random.uniform(-5.0, 5.0)\r\n            target_y = random.uniform(-5.0, 5.0)\r\n            \r\n            self.get_logger().info(f'Scheduling navigation to ({target_x:.2f}, {target_y:.2f})')\r\n            self.send_navigation_goal(target_x, target_y, f\"RandomGoal_{self.nav_counter}\")\r\n        else:\r\n            self.get_logger().info('Navigation skipped - safety mode active or obstacle detected')\r\n    \r\n    def send_navigation_goal(self, x, y, location_name):\r\n        # Wait for action server\r\n        if not self.nav_client.wait_for_server(timeout_sec=1.0):\r\n            self.get_logger().error('Navigation action server not available')\r\n            return\r\n        \r\n        # Create and send goal\r\n        goal_msg = MoveToLocation.Goal()\r\n        goal_msg.target_x = x\r\n        goal_msg.target_y = y\r\n        goal_msg.location_name = location_name\r\n        \r\n        self.get_logger().info(f'Sending navigation goal to {location_name}')\r\n        \r\n        # Send goal asynchronously\r\n        future = self.nav_client.send_goal_async(\r\n            goal_msg,\r\n            feedback_callback=self.navigation_feedback_callback)\r\n        \r\n        future.add_done_callback(self.navigation_response_callback)\r\n    \r\n    def navigation_feedback_callback(self, feedback_msg):\r\n        self.get_logger().debug(\r\n            f'Navigation feedback: {feedback_msg.feedback.status} - '\r\n            f'Distance: {feedback_msg.feedback.distance_remaining:.2f}m')\r\n    \r\n    def navigation_response_callback(self, future):\r\n        goal_handle = future.result()\r\n        if not goal_handle.accepted:\r\n            self.get_logger().error('Navigation goal was rejected')\r\n            return\r\n        \r\n        self.get_logger().info('Navigation goal accepted, waiting for result...')\r\n        \r\n        # Get result future\r\n        result_future = goal_handle.get_result_async()\r\n        result_future.add_done_callback(self.navigation_result_callback)\r\n    \r\n    def navigation_result_callback(self, future):\r\n        result = future.result().result\r\n        self.get_logger().info(f'Navigation result: {result.message}')\r\n    \r\n    def activate_safety_mode(self):\r\n        self.safety_mode = True\r\n        self.get_logger().warn('Safety mode activated')\r\n    \r\n    def activate_emergency_stop(self):\r\n        self.get_logger().error('Activating emergency stop due to obstacle!')\r\n        \r\n        # Call emergency stop service\r\n        request = SetBool.Request()\r\n        request.data = True\r\n        \r\n        future = self.emergency_client.call_async(request)\r\n        future.add_done_callback(self.emergency_stop_callback)\r\n    \r\n    def emergency_stop_callback(self, future):\r\n        try:\r\n            response = future.result()\r\n            if response.success:\r\n                self.get_logger().info(f'Emergency stop executed: {response.message}')\r\n            else:\r\n                self.get_logger().error(f'Emergency stop failed: {response.message}')\r\n        except Exception as e:\r\n            self.get_logger().error(f'Service call failed: {e}')\r\n    \r\n    def calibrate_sensors(self):\r\n        self.get_logger().info('Calibrating sensors...')\r\n        \r\n        future = self.calibrate_client.call_async(Trigger.Request())\r\n        future.add_done_callback(self.calibrate_callback)\r\n    \r\n    def calibrate_callback(self, future):\r\n        try:\r\n            response = future.result()\r\n            if response.success:\r\n                self.get_logger().info(f'Sensor calibration successful: {response.message}')\r\n            else:\r\n                self.get_logger().error(f'Sensor calibration failed: {response.message}')\r\n        except Exception as e:\r\n            self.get_logger().error(f'Calibration service call failed: {e}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    system_monitor = SystemMonitor()\r\n    \r\n    try:\r\n        rclpy.spin(system_monitor)\r\n    except KeyboardInterrupt:\r\n        system_monitor.get_logger().info('Shutting down system monitor...')\r\n    finally:\r\n        system_monitor.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exercise-6-launch-file-and-system-integration",children:"Exercise 6: Launch File and System Integration"}),"\n",(0,t.jsx)(r.h3,{id:"objective-5",children:"Objective"}),"\n",(0,t.jsx)(r.p,{children:"Create a launch file to run the entire system and test the integration."}),"\n",(0,t.jsxs)(r.p,{children:["Create ",(0,t.jsx)(r.code,{children:"communication_exercises/launch/integrated_system_launch.py"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        # Sensor publisher node\r\n        Node(\r\n            package='communication_exercises',\r\n            executable='sensor_publisher',\r\n            name='sensor_publisher',\r\n            output='screen',\r\n        ),\r\n        # Service server node\r\n        Node(\r\n            package='communication_exercises',\r\n            executable='service_server',\r\n            name='service_server',\r\n            output='screen',\r\n        ),\r\n        # Action server node\r\n        Node(\r\n            package='communication_exercises',\r\n            executable='action_server',\r\n            name='action_server',\r\n            output='screen',\r\n        ),\r\n        # System monitor node\r\n        Node(\r\n            package='communication_exercises',\r\n            executable='system_monitor',\r\n            name='system_monitor',\r\n            output='screen',\r\n        ),\r\n    ])\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exercise-7-performance-testing-and-comparison",children:"Exercise 7: Performance Testing and Comparison"}),"\n",(0,t.jsx)(r.h3,{id:"objective-6",children:"Objective"}),"\n",(0,t.jsx)(r.p,{children:"Create tests to compare the performance characteristics of each communication pattern."}),"\n",(0,t.jsxs)(r.p,{children:["Create ",(0,t.jsx)(r.code,{children:"communication_exercises/test/performance_test.py"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom rclpy.qos import QoSProfile\r\nfrom std_msgs.msg import String\r\nfrom std_srvs.srv import Trigger\r\nfrom communication_exercises.action import MoveToLocation\r\nfrom rclpy.action import ActionClient\r\nimport time\r\n\r\nclass PerformanceTester(Node):\r\n    def __init__(self):\r\n        super().__init__('performance_tester')\r\n        \r\n        # Topic publisher for performance testing\r\n        self.topic_publisher = self.create_publisher(String, 'perf_test_topic', \r\n                                                   QoSProfile(depth=10))\r\n        \r\n        # Service client for performance testing\r\n        self.service_client = self.create_client(Trigger, 'perf_test_service')\r\n        \r\n        # Action client for performance testing\r\n        self.action_client = ActionClient(self, MoveToLocation, 'perf_test_action')\r\n        \r\n        # Test variables\r\n        self.test_count = 0\r\n        self.max_tests = 100\r\n        \r\n        # Timer for performance tests\r\n        self.topic_timer = self.create_timer(0.1, self.test_topic_performance)\r\n        self.service_timer = self.create_timer(1.0, self.test_service_performance)\r\n        self.action_timer = self.create_timer(2.0, self.test_action_performance)\r\n        \r\n        # Initialize test counters\r\n        self.topic_start_time = None\r\n        self.service_start_time = None\r\n        self.action_start_time = None\r\n        \r\n        self.get_logger().info('Performance tester initialized')\r\n\r\n    def test_topic_performance(self):\r\n        if self.test_count >= self.max_tests:\r\n            return\r\n            \r\n        # Publish a message and time it\r\n        self.topic_start_time = time.time()\r\n        \r\n        msg = String()\r\n        msg.data = f'perf_test_message_{self.test_count}'\r\n        self.topic_publisher.publish(msg)\r\n        \r\n        self.test_count += 1\r\n\r\n    def test_service_performance(self):\r\n        if not self.service_client.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().warn('Performance test service not available')\r\n            return\r\n            \r\n        if self.test_count >= self.max_tests:\r\n            return\r\n            \r\n        # Call service and time it\r\n        self.service_start_time = time.time()\r\n        \r\n        future = self.service_client.call_async(Trigger.Request())\r\n        future.add_done_callback(self.service_response_callback)\r\n\r\n    def service_response_callback(self, future):\r\n        try:\r\n            response = future.result()\r\n            end_time = time.time()\r\n            if self.service_start_time:\r\n                duration = end_time - self.service_start_time\r\n                self.get_logger().info(f'Service call duration: {duration:.4f}s')\r\n                self.service_start_time = None\r\n        except Exception as e:\r\n            self.get_logger().error(f'Service call failed: {e}')\r\n\r\n    def test_action_performance(self):\r\n        if not self.action_client.wait_for_server(timeout_sec=1.0):\r\n            self.get_logger().warn('Performance test action server not available')\r\n            return\r\n            \r\n        if self.test_count >= self.max_tests:\r\n            return\r\n            \r\n        # Send action goal and time it\r\n        self.action_start_time = time.time()\r\n        \r\n        goal_msg = MoveToLocation.Goal()\r\n        goal_msg.target_x = 1.0\r\n        goal_msg.target_y = 1.0\r\n        goal_msg.location_name = f'perf_test_{self.test_count}'\r\n        \r\n        # Send goal asynchronously\r\n        future = self.action_client.send_goal_async(goal_msg)\r\n        future.add_done_callback(self.action_response_callback)\r\n\r\n    def action_response_callback(self, future):\r\n        try:\r\n            goal_handle = future.result()\r\n            if not goal_handle.accepted:\r\n                self.get_logger().error('Performance test action goal was rejected')\r\n                return\r\n                \r\n            # Wait for result\r\n            result_future = goal_handle.get_result_async()\r\n            result_future.add_done_callback(self.action_result_callback)\r\n        except Exception as e:\r\n            self.get_logger().error(f'Action call failed: {e}')\r\n\r\n    def action_result_callback(self, future):\r\n        try:\r\n            result = future.result().result\r\n            end_time = time.time()\r\n            if self.action_start_time:\r\n                duration = end_time - self.action_start_time\r\n                self.get_logger().info(f'Action execution duration: {duration:.4f}s')\r\n                self.action_start_time = None\r\n        except Exception as e:\r\n            self.get_logger().error(f'Action result failed: {e}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    performance_tester = PerformanceTester()\r\n    \r\n    try:\r\n        rclpy.spin(performance_tester)\r\n    except KeyboardInterrupt:\r\n        performance_tester.get_logger().info('Shutting down performance tester...')\r\n    finally:\r\n        performance_tester.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exercise-8-running-the-complete-system",children:"Exercise 8: Running the Complete System"}),"\n",(0,t.jsx)(r.h3,{id:"steps-to-execute",children:"Steps to Execute:"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Build the package"}),":"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select communication_exercises\r\nsource install/setup.bash\n"})}),"\n",(0,t.jsxs)(r.ol,{start:"2",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Run the integrated system"}),":"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"ros2 launch communication_exercises integrated_system_launch.py\n"})}),"\n",(0,t.jsxs)(r.ol,{start:"3",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Test individual components"}),":"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:'# Test service calls\r\nros2 service call /emergency_stop std_srvs/srv/SetBool "{data: true}"\r\n\r\n# Test action calls\r\nros2 action send_goal /move_to_location communication_exercises/action/MoveToLocation "{target_x: 2.0, target_y: 2.0, location_name: \'test_location\'}"\r\n\r\n# Monitor topics\r\nros2 topic echo /robot_status\n'})}),"\n",(0,t.jsxs)(r.ol,{start:"4",children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Monitor system performance"}),":"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"# View all active topics\r\nros2 topic list\r\n\r\n# Monitor message rates\r\nros2 topic hz /scan\r\n\r\n# Check services\r\nros2 service list\r\n\r\n# Check actions\r\nros2 action list\n"})}),"\n",(0,t.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(r.p,{children:"This practical exercise demonstrated how to:"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Design a complete system"})," using appropriate communication patterns:"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Topics for continuous sensor data and status updates"}),"\n",(0,t.jsx)(r.li,{children:"Services for immediate configuration and control"}),"\n",(0,t.jsx)(r.li,{children:"Actions for long-running navigation tasks"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Implement each pattern correctly"})," with proper error handling and QoS settings"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Integrate all patterns"})," in a coordinated system"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Test and compare performance"})," characteristics of each pattern"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Debug common issues"})," that arise when using multiple communication patterns together"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"additional-challenges",children:"Additional Challenges"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Extend the system"}),": Add more sensor types (camera, GPS) with appropriate communication patterns"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Add security"}),": Implement authentication for sensitive services"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Create a dashboard"}),": Build a simple GUI to monitor and control the system"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Optimize performance"}),": Profile and optimize the communication patterns for your specific use case"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Add persistence"}),": Store and retrieve robot configurations between sessions"]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"This completes the submodules for Week 3 of Module 1 on Services and Actions in ROS 2."})]})}function _(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>o});var s=n(6540);const t={},i=s.createContext(t);function a(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);
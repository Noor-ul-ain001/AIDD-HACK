"use strict";(globalThis.webpackChunkphysical_ai_platform_frontend=globalThis.webpackChunkphysical_ai_platform_frontend||[]).push([[6394],{8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>t});var r=i(6540);const l={},s=r.createContext(l);function o(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),r.createElement(s.Provider,{value:e},n.children)}},8883:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"module-1/week-4-tf-urdf/4-2-understanding-urdf","title":"4.2: Understanding URDF (Unified Robot Description Format)","description":"Overview","source":"@site/docs/module-1/week-4-tf-urdf/4-2-understanding-urdf.md","sourceDirName":"module-1/week-4-tf-urdf","slug":"/module-1/week-4-tf-urdf/4-2-understanding-urdf","permalink":"/docs/module-1/week-4-tf-urdf/4-2-understanding-urdf","draft":false,"unlisted":false,"editUrl":"https://github.com/noor-ana/physical-ai-platform/tree/main/docs/module-1/week-4-tf-urdf/4-2-understanding-urdf.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"difficulty":"beginner"},"sidebar":"tutorialSidebar","previous":{"title":"4.1: Understanding ROS 2 TF2 (Transform Library)","permalink":"/docs/module-1/week-4-tf-urdf/4-1-understanding-tf2"},"next":{"title":"4.3: Integration of TF2 and URDF in Robotic Systems","permalink":"/docs/module-1/week-4-tf-urdf/4-3-integration-tf2-urdf"}}');var l=i(4848),s=i(8453);const o={sidebar_position:2,difficulty:"beginner"},t="4.2: Understanding URDF (Unified Robot Description Format)",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"URDF Fundamentals",id:"urdf-fundamentals",level:2},{value:"What is URDF?",id:"what-is-urdf",level:3},{value:"URDF Structure",id:"urdf-structure",level:3},{value:"Link Definition",id:"link-definition",level:2},{value:"Links Components",id:"links-components",level:3},{value:"Basic Link Example",id:"basic-link-example",level:3},{value:"Geometry Types",id:"geometry-types",level:3},{value:"Joint Definition",id:"joint-definition",level:2},{value:"Joint Types",id:"joint-types",level:3},{value:"Joint Examples",id:"joint-examples",level:3},{value:"Materials and Colors",id:"materials-and-colors",level:2},{value:"Material Definition",id:"material-definition",level:3},{value:"Complete Robot Example",id:"complete-robot-example",level:2},{value:"Simple Differential Drive Robot",id:"simple-differential-drive-robot",level:3},{value:"URDF with Xacro",id:"urdf-with-xacro",level:2},{value:"Introduction to Xacro",id:"introduction-to-xacro",level:3},{value:"Basic Xacro Example",id:"basic-xacro-example",level:3},{value:"Robot State Publisher",id:"robot-state-publisher",level:2},{value:"Using Robot State Publisher",id:"using-robot-state-publisher",level:3},{value:"Node Implementation Example",id:"node-implementation-example",level:3},{value:"Working with Mesh Files",id:"working-with-mesh-files",level:2},{value:"Including 3D Models",id:"including-3d-models",level:3},{value:"Creating Collada (DAE) Files",id:"creating-collada-dae-files",level:3},{value:"URDF Tools and Validation",id:"urdf-tools-and-validation",level:2},{value:"URDF Validation",id:"urdf-validation",level:3},{value:"Viewing URDF",id:"viewing-urdf",level:3},{value:"Robot Description Launch",id:"robot-description-launch",level:2},{value:"Creating a Launch File",id:"creating-a-launch-file",level:3},{value:"Common URDF Issues and Solutions",id:"common-urdf-issues-and-solutions",level:2},{value:"1. Missing Joint Limits (for non-continuous joints)",id:"1-missing-joint-limits-for-non-continuous-joints",level:3},{value:"2. Incorrect Mass Properties",id:"2-incorrect-mass-properties",level:3},{value:"3. Floating Robot (no fixed base)",id:"3-floating-robot-no-fixed-base",level:3},{value:"4. Transform Chain Issues",id:"4-transform-chain-issues",level:3},{value:"Advanced URDF Features",id:"advanced-urdf-features",level:2},{value:"Gazebo-Specific Tags",id:"gazebo-specific-tags",level:3},{value:"URDF Best Practices",id:"urdf-best-practices",level:2},{value:"Summary",id:"summary",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"42-understanding-urdf-unified-robot-description-format",children:"4.2: Understanding URDF (Unified Robot Description Format)"})}),"\n",(0,l.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(e.p,{children:"This submodule introduces URDF (Unified Robot Description Format), the XML-based format used in ROS to describe robot models. URDF defines the kinematic and dynamic properties of robots, including links, joints, and visual/physical properties."}),"\n",(0,l.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,l.jsx)(e.p,{children:"By the end of this submodule, you will:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Understand the structure and components of URDF files"}),"\n",(0,l.jsx)(e.li,{children:"Create URDF descriptions for simple and complex robots"}),"\n",(0,l.jsx)(e.li,{children:"Define links, joints, and their properties in URDF"}),"\n",(0,l.jsx)(e.li,{children:"Work with visual, collision, and inertial properties"}),"\n",(0,l.jsx)(e.li,{children:"Generate TF frames from URDF using robot_state_publisher"}),"\n",(0,l.jsx)(e.li,{children:"Debug common URDF issues"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"urdf-fundamentals",children:"URDF Fundamentals"}),"\n",(0,l.jsx)(e.h3,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,l.jsx)(e.p,{children:"URDF (Unified Robot Description Format) is an XML-based file format used in ROS to describe robot models. It defines:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Links"}),": Rigid parts of the robot (e.g., chassis, wheel, sensor)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Joints"}),": Connections between links (e.g., revolute, prismatic, fixed)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Visual properties"}),": How the robot appears in simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Collision properties"}),": How the robot interacts physically"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Inertial properties"}),": Mass, center of mass, and inertia for physics simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Materials"}),": Colors and textures for visualization"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"urdf-structure",children:"URDF Structure"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="my_robot">\r\n  \x3c!-- Define materials --\x3e\r\n  <material name="blue">\r\n    <color rgba="0 0 0.8 1"/>\r\n  </material>\r\n  \r\n  \x3c!-- Define links --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder length="0.6" radius="0.2"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder length="0.6" radius="0.2"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="10"/>\r\n      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Define joints --\x3e\r\n  <joint name="wheel_joint" type="continuous">\r\n    <parent link="base_link"/>\r\n    <child link="wheel_link"/>\r\n    <origin xyz="0 0.3 -0.1" rpy="0 0 0"/>\r\n  </joint>\r\n  \r\n  <link name="wheel_link">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder length="0.1" radius="0.1"/>\r\n      </geometry>\r\n    </visual>\r\n  </link>\r\n</robot>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"link-definition",children:"Link Definition"}),"\n",(0,l.jsx)(e.h3,{id:"links-components",children:"Links Components"}),"\n",(0,l.jsx)(e.p,{children:"A link in URDF represents a rigid body and can contain:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Visual"}),": Defines how the link looks in visualization"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Collision"}),": Defines the physical collision properties"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Inertial"}),": Defines mass and inertia properties for physics simulation"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"basic-link-example",children:"Basic Link Example"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<link name="base_link">\r\n  \x3c!-- Visual properties --\x3e\r\n  <visual>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      \x3c!-- Box with dimensions 0.5m x 0.3m x 0.1m --\x3e\r\n      <box size="0.5 0.3 0.1"/>\r\n    </geometry>\r\n    <material name="light_grey"/>\r\n  </visual>\r\n  \r\n  \x3c!-- Collision properties --\x3e\r\n  <collision>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="0.5 0.3 0.1"/>\r\n    </geometry>\r\n  </collision>\r\n  \r\n  \x3c!-- Inertial properties --\x3e\r\n  <inertial>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <mass value="1.0"/>\r\n    <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n  </inertial>\r\n</link>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"geometry-types",children:"Geometry Types"}),"\n",(0,l.jsx)(e.p,{children:"URDF supports several geometry types:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Box"}),": ",(0,l.jsx)(e.code,{children:'<box size="x y z"/>'})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Cylinder"}),": ",(0,l.jsx)(e.code,{children:'<cylinder radius="r" length="l"/>'})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sphere"}),": ",(0,l.jsx)(e.code,{children:'<sphere radius="r"/>'})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Mesh"}),": ",(0,l.jsx)(e.code,{children:'<mesh filename="package://path/to/mesh.stl" scale="x y z"/>'})]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"joint-definition",children:"Joint Definition"}),"\n",(0,l.jsx)(e.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,l.jsx)(e.p,{children:"URDF supports several joint types:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Fixed"}),": No movement between links"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Revolute"}),": Single axis rotation with limits"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Continuous"}),": Continuous rotation (like a wheel)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Prismatic"}),": Single axis translation with limits"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Planar"}),": Movement in a plane"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Floating"}),": 6DOF movement"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"joint-examples",children:"Joint Examples"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Fixed joint (no movement) --\x3e\r\n<joint name="sensor_mount" type="fixed">\r\n  <parent link="base_link"/>\r\n  <child link="camera_link"/>\r\n  <origin xyz="0.2 0 0.1" rpy="0 0 0"/>\r\n</joint>\r\n\r\n\x3c!-- Revolute joint (rotating with limits) --\x3e\r\n<joint name="arm_joint" type="revolute">\r\n  <parent link="base_link"/>\r\n  <child link="arm_link"/>\r\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>\r\n  <axis xyz="0 0 1"/>  \x3c!-- Rotation axis --\x3e\r\n  <limit lower="-1.57" upper="1.57" effort="100" velocity="1"/>  \x3c!-- Limits --\x3e\r\n</joint>\r\n\r\n\x3c!-- Continuous joint (free rotation) --\x3e\r\n<joint name="wheel_joint" type="continuous">\r\n  <parent link="base_link"/>\r\n  <child link="wheel_link"/>\r\n  <origin xyz="0 0.2 -0.1" rpy="0 0 0"/>\r\n  <axis xyz="0 1 0"/>  \x3c!-- Wheel rotation axis --\x3e\r\n</joint>\r\n\r\n\x3c!-- Prismatic joint (linear motion) --\x3e\r\n<joint name="slider_joint" type="prismatic">\r\n  <parent link="base_link"/>\r\n  <child link="slider_link"/>\r\n  <origin xyz="0.1 0 0" rpy="0 0 0"/>\r\n  <axis xyz="1 0 0"/>\r\n  <limit lower="0" upper="0.5" effort="100" velocity="0.5"/>\r\n</joint>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"materials-and-colors",children:"Materials and Colors"}),"\n",(0,l.jsx)(e.h3,{id:"material-definition",children:"Material Definition"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<material name="red">\r\n  <color rgba="0.8 0.0 0.0 1.0"/>\r\n</material>\r\n\r\n<material name="green">\r\n  <color rgba="0.0 0.8 0.0 1.0"/>\r\n</material>\r\n\r\n<material name="blue">\r\n  <color rgba="0.0 0.0 0.8 1.0"/>\r\n</material>\r\n\r\n<material name="white">\r\n  <color rgba="1.0 1.0 1.0 1.0"/>\r\n</material>\r\n\r\n<material name="black">\r\n  <color rgba="0.0 0.0 0.0 1.0"/>\r\n</material>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"complete-robot-example",children:"Complete Robot Example"}),"\n",(0,l.jsx)(e.h3,{id:"simple-differential-drive-robot",children:"Simple Differential Drive Robot"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="diff_drive_robot">\r\n  \x3c!-- Materials --\x3e\r\n  <material name="blue">\r\n    <color rgba="0.0 0.0 0.8 1.0"/>\r\n  </material>\r\n  \r\n  <material name="white">\r\n    <color rgba="1.0 1.0 1.0 1.0"/>\r\n  </material>\r\n  \r\n  \x3c!-- Base link --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.2" length="0.1"/>\r\n      </geometry>\r\n      <material name="blue"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.2" length="0.1"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="5.0"/>\r\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.2"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left wheel --\x3e\r\n  <link name="left_wheel_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="1.570796 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.04"/>\r\n      </geometry>\r\n      <material name="white"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 0" rpy="1.570796 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.04"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="0.2"/>\r\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.002"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Right wheel --\x3e\r\n  <link name="right_wheel_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="1.570796 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.04"/>\r\n      </geometry>\r\n      <material name="white"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 0" rpy="1.570796 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.04"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="0.2"/>\r\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.002"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- IMU sensor --\x3e\r\n  <link name="imu_link">\r\n    <inertial>\r\n      <mass value="0.01"/>\r\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Joints --\x3e\r\n  <joint name="left_wheel_joint" type="continuous">\r\n    <parent link="base_link"/>\r\n    <child link="left_wheel_link"/>\r\n    <origin xyz="0 0.2 -0.05" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n  </joint>\r\n  \r\n  <joint name="right_wheel_joint" type="continuous">\r\n    <parent link="base_link"/>\r\n    <child link="right_wheel_link"/>\r\n    <origin xyz="0 -0.2 -0.05" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n  </joint>\r\n  \r\n  <joint name="imu_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="imu_link"/>\r\n    <origin xyz="0 0 0.05" rpy="0 0 0"/>\r\n  </joint>\r\n</robot>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"urdf-with-xacro",children:"URDF with Xacro"}),"\n",(0,l.jsx)(e.h3,{id:"introduction-to-xacro",children:"Introduction to Xacro"}),"\n",(0,l.jsx)(e.p,{children:"Xacro is a macro language for generating URDF files. It allows:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Parameterization of URDF models"}),"\n",(0,l.jsx)(e.li,{children:"Macro definitions"}),"\n",(0,l.jsx)(e.li,{children:"Mathematical expressions"}),"\n",(0,l.jsx)(e.li,{children:"File inclusion"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"basic-xacro-example",children:"Basic Xacro Example"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="xacro_robot">\r\n  \r\n  \x3c!-- Define properties --\x3e\r\n  <xacro:property name="base_width" value="0.3"/>\r\n  <xacro:property name="base_length" value="0.4"/>\r\n  <xacro:property name="base_height" value="0.1"/>\r\n  <xacro:property name="wheel_radius" value="0.05"/>\r\n  <xacro:property name="wheel_width" value="0.04"/>\r\n  <xacro:property name="PI" value="3.1415926535897931"/>\r\n  \r\n  \x3c!-- Define a macro for wheels --\x3e\r\n  <xacro:macro name="wheel" params="prefix reflect">\r\n    <link name="${prefix}_wheel_link">\r\n      <visual>\r\n        <origin xyz="0 0 0" rpy="${PI/2} 0 0"/>\r\n        <geometry>\r\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\r\n        </geometry>\r\n      </visual>\r\n      \r\n      <collision>\r\n        <origin xyz="0 0 0" rpy="${PI/2} 0 0"/>\r\n        <geometry>\r\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\r\n        </geometry>\r\n      </collision>\r\n      \r\n      <inertial>\r\n        <mass value="0.2"/>\r\n        <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.002"/>\r\n      </inertial>\r\n    </link>\r\n    \r\n    <joint name="${prefix}_wheel_joint" type="continuous">\r\n      <parent link="base_link"/>\r\n      <child link="${prefix}_wheel_link"/>\r\n      <origin xyz="0 ${reflect * base_width/2 - wheel_width/2} -${base_height/2}" rpy="0 0 0"/>\r\n      <axis xyz="0 1 0"/>\r\n    </joint>\r\n  </xacro:macro>\r\n  \r\n  \x3c!-- Base link --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="${base_length} ${base_width} ${base_height}"/>\r\n      </geometry>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <geometry>\r\n        <box size="${base_length} ${base_width} ${base_height}"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="10.0"/>\r\n      <inertia ixx="0.4" ixy="0.0" ixz="0.0" iyy="0.4" iyz="0.0" izz="0.8"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Create wheels using macro --\x3e\r\n  <xacro:wheel prefix="left" reflect="1"/>\r\n  <xacro:wheel prefix="right" reflect="-1"/>\r\n  \r\n</robot>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"robot-state-publisher",children:"Robot State Publisher"}),"\n",(0,l.jsx)(e.h3,{id:"using-robot-state-publisher",children:"Using Robot State Publisher"}),"\n",(0,l.jsxs)(e.p,{children:["The ",(0,l.jsx)(e.code,{children:"robot_state_publisher"})," node takes a URDF and joint positions to publish the resulting transforms to TF:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# Launch robot state publisher\r\nros2 run robot_state_publisher robot_state_publisher --ros-args -p robot_description:="path_to_urdf"\n'})}),"\n",(0,l.jsx)(e.h3,{id:"node-implementation-example",children:"Node Implementation Example"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import JointState\r\nfrom tf2_ros import TransformBroadcaster\r\nfrom geometry_msgs.msg import TransformStamped\r\nimport math\r\n\r\nclass JointStatePublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('joint_state_publisher')\r\n        \r\n        # Create a publisher for joint states\r\n        self.joint_publisher = self.create_publisher(JointState, 'joint_states', 10)\r\n        \r\n        # Create a transform broadcaster\r\n        self.tf_broadcaster = TransformBroadcaster(self)\r\n        \r\n        # Timer to publish states\r\n        self.timer = self.create_timer(0.1, self.publish_joint_states)  # 10 Hz\r\n        self.time = 0.0\r\n\r\n    def publish_joint_states(self):\r\n        # Create joint state message\r\n        msg = JointState()\r\n        msg.name = ['left_wheel_joint', 'right_wheel_joint']\r\n        \r\n        # Simulate oscillating joint positions\r\n        self.time += 0.1\r\n        left_pos = math.sin(self.time) * 0.5\r\n        right_pos = math.cos(self.time) * 0.5\r\n        \r\n        msg.position = [left_pos, right_pos]\r\n        msg.header.stamp = self.get_clock().now().to_msg()\r\n        msg.header.frame_id = 'joint_states'\r\n        \r\n        # Publish the message\r\n        self.joint_publisher.publish(msg)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = JointStatePublisher()\r\n    rclpy.spin(node)\r\n    node.destroy_node()\r\n    rclpy.shutdown()\n"})}),"\n",(0,l.jsx)(e.h2,{id:"working-with-mesh-files",children:"Working with Mesh Files"}),"\n",(0,l.jsx)(e.h3,{id:"including-3d-models",children:"Including 3D Models"}),"\n",(0,l.jsx)(e.p,{children:"URDF can reference external 3D models (STL, DAE, etc.):"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<link name="gripper_link">\r\n  <visual>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      \x3c!-- Reference to an STL file in the mesh package --\x3e\r\n      <mesh filename="package://my_robot_description/meshes/gripper.stl" scale="1 1 1"/>\r\n    </geometry>\r\n    <material name="light_grey"/>\r\n  </visual>\r\n  \r\n  <collision>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      <mesh filename="package://my_robot_description/meshes/gripper.stl" scale="1 1 1"/>\r\n    </geometry>\r\n  </collision>\r\n</link>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"creating-collada-dae-files",children:"Creating Collada (DAE) Files"}),"\n",(0,l.jsx)(e.p,{children:"For more complex visual models with textures:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<visual>\r\n  <geometry>\r\n    <mesh filename="package://my_robot_description/meshes/complex_model.dae"/>\r\n  </geometry>\r\n</visual>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"urdf-tools-and-validation",children:"URDF Tools and Validation"}),"\n",(0,l.jsx)(e.h3,{id:"urdf-validation",children:"URDF Validation"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Check URDF validity\r\ncheck_urdf /path/to/robot.urdf\r\n\r\n# Or use xacro to check:\r\nros2 run xacro xacro -o output.urdf input.urdf.xacro\n"})}),"\n",(0,l.jsx)(e.h3,{id:"viewing-urdf",children:"Viewing URDF"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# View the robot model\r\nros2 run rviz2 rviz2\r\n\r\n# In RViz, add a RobotModel display and set the robot description parameter\r\n# Alternatively, use the command line viewer:\r\nros2 launch urdf_tutorial display.launch.py model:=path/to/robot.urdf\n"})}),"\n",(0,l.jsx)(e.h2,{id:"robot-description-launch",children:"Robot Description Launch"}),"\n",(0,l.jsx)(e.h3,{id:"creating-a-launch-file",children:"Creating a Launch File"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:'# launch/robot_description.launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch.substitutions import Command, PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    # Get URDF via xacro\r\n    robot_description_content = Command(\r\n        [\r\n            PathJoinSubstitution([FindPackageShare("my_robot_description"), "urdf", "robot.urdf.xacro"]),\r\n        ]\r\n    )\r\n    robot_description = {"robot_description": robot_description_content}\r\n\r\n    node_robot_state_publisher = Node(\r\n        package=\'robot_state_publisher\',\r\n        executable=\'robot_state_publisher\',\r\n        output=\'screen\',\r\n        parameters=[robot_description]\r\n    )\r\n\r\n    return LaunchDescription([\r\n        node_robot_state_publisher\r\n    ])\n'})}),"\n",(0,l.jsx)(e.h2,{id:"common-urdf-issues-and-solutions",children:"Common URDF Issues and Solutions"}),"\n",(0,l.jsx)(e.h3,{id:"1-missing-joint-limits-for-non-continuous-joints",children:"1. Missing Joint Limits (for non-continuous joints)"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Problem: Revolute joint without limits --\x3e\r\n<joint name="problematic_joint" type="revolute">\r\n  <parent link="base_link"/>\r\n  <child link="arm_link"/>\r\n  <axis xyz="0 0 1"/>\r\n  \x3c!-- Missing limit tag! --\x3e\r\n</joint>\r\n\r\n\x3c!-- Solution: Add proper limits --\x3e\r\n<joint name="fixed_joint" type="revolute">\r\n  <parent link="base_link"/>\r\n  <child link="arm_link"/>\r\n  <axis xyz="0 0 1"/>\r\n  <limit lower="-1.57" upper="1.57" effort="10.0" velocity="1.0"/>\r\n</joint>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"2-incorrect-mass-properties",children:"2. Incorrect Mass Properties"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Problem: Zero mass or inertia --\x3e\r\n<link name="problem_link">\r\n  <inertial>\r\n    <mass value="0"/>  \x3c!-- Zero mass is invalid --\x3e\r\n    <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>  \x3c!-- Zero inertia is invalid --\x3e\r\n  </inertial>\r\n</link>\r\n\r\n\x3c!-- Solution: Use reasonable values --\x3e\r\n<link name="fixed_link">\r\n  <inertial>\r\n    <mass value="0.1"/>\r\n    <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\r\n  </inertial>\r\n</link>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"3-floating-robot-no-fixed-base",children:"3. Floating Robot (no fixed base)"}),"\n",(0,l.jsxs)(e.p,{children:["URDF should have a single root link (typically ",(0,l.jsx)(e.code,{children:"base_link"}),"):"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Make sure you have one root link with no parent --\x3e\r\n<link name="base_link">\r\n  \x3c!-- Definition --\x3e\r\n</link>\r\n\x3c!-- All other links connect to this or descendants of this --\x3e\n'})}),"\n",(0,l.jsx)(e.h3,{id:"4-transform-chain-issues",children:"4. Transform Chain Issues"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:"\x3c!-- Problem: Disconnected links in the kinematic chain --\x3e\r\n\x3c!-- Solution: All links must be connected through joints --\x3e\n"})}),"\n",(0,l.jsx)(e.h2,{id:"advanced-urdf-features",children:"Advanced URDF Features"}),"\n",(0,l.jsx)(e.h3,{id:"gazebo-specific-tags",children:"Gazebo-Specific Tags"}),"\n",(0,l.jsx)(e.p,{children:"For simulation in Gazebo:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<link name="sensor_link">\r\n  <visual>\r\n    \x3c!-- Visual properties --\x3e\r\n  </visual>\r\n  \r\n  \x3c!-- Gazebo-specific properties --\x3e\r\n  <gazebo reference="sensor_link">\r\n    <material>Gazebo/Blue</material>\r\n    <turnGravityOff>false</turnGravityOff>\r\n  </gazebo>\r\n</link>\r\n\r\n<gazebo>\r\n  \x3c!-- Gazebo plugin for sensors --\x3e\r\n  <plugin name="sensor_plugin" filename="libgazebo_ros_imu.so">\r\n    <ros>\r\n      <namespace>imu</namespace>\r\n      <remapping>~/out:=imu_data</remapping>\r\n    </ros>\r\n    <initial_orientation_as_reference>false</initial_orientation_as_reference>\r\n  </plugin>\r\n</gazebo>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"urdf-best-practices",children:"URDF Best Practices"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Use consistent naming"}),": Follow ROS conventions (",(0,l.jsx)(e.code,{children:"base_link"}),", ",(0,l.jsx)(e.code,{children:"base_footprint"}),", etc.)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Parameterize with Xacro"}),": Use xacro for reusability and maintainability"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Validate regularly"}),": Check your URDF with ",(0,l.jsx)(e.code,{children:"check_urdf"})," command"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Realistic inertial values"}),": Use proper mass and inertia properties for simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Collision vs. visual"}),": Use simpler geometry for collision than visual when possible"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Origin consistency"}),": Keep origins consistent between visual, collision, and inertial elements"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsx)(e.p,{children:"This submodule covered the fundamentals of URDF (Unified Robot Description Format):"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Structure and components of URDF files"}),"\n",(0,l.jsx)(e.li,{children:"Defining links, joints, and their properties"}),"\n",(0,l.jsx)(e.li,{children:"Working with visual, collision, and inertial properties"}),"\n",(0,l.jsx)(e.li,{children:"Using Xacro for parameterized robot descriptions"}),"\n",(0,l.jsx)(e.li,{children:"Publishing robot states to TF using robot_state_publisher"}),"\n",(0,l.jsx)(e.li,{children:"Common issues and best practices"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"URDF is essential for representing robots in ROS, enabling visualization, simulation, and the generation of TF frames. In the next submodule, we'll explore how TF2 and URDF work together to create complete robot representations."})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}}}]);
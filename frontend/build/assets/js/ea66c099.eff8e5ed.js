"use strict";(globalThis.webpackChunkphysical_ai_platform_frontend=globalThis.webpackChunkphysical_ai_platform_frontend||[]).push([[6730],{7735:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module-1/week-2-nodes-topics","title":"Week 2: Nodes and Topics","description":"Overview","source":"@site/docs/module-1/week-2-nodes-topics.md","sourceDirName":"module-1","slug":"/module-1/week-2-nodes-topics","permalink":"/docs/module-1/week-2-nodes-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/noor-ana/physical-ai-platform/tree/main/docs/module-1/week-2-nodes-topics.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"difficulty":"beginner"}}');var s=r(4848),o=r(8453);const t={sidebar_position:2,difficulty:"beginner"},a="Week 2: Nodes and Topics",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Nodes in ROS 2",id:"nodes-in-ros-2",level:2},{value:"Creating a Node",id:"creating-a-node",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:2},{value:"Publisher and Subscriber",id:"publisher-and-subscriber",level:3},{value:"Advanced Topic Concepts",id:"advanced-topic-concepts",level:2},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:3},{value:"Topic Commands",id:"topic-commands",level:3},{value:"Practical Example: Temperature Sensor",id:"practical-example-temperature-sensor",level:2},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"Hardware Considerations",id:"hardware-considerations",level:2},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"week-2-nodes-and-topics",children:"Week 2: Nodes and Topics"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"This week focuses on two fundamental concepts in ROS 2: Nodes and Topics. Nodes are the basic execution units of a ROS 2 program, and topics are the buses over which nodes exchange messages."}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(n.p,{children:"By the end of this week, you will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Understand the concept of nodes in ROS 2"}),"\n",(0,s.jsx)(n.li,{children:"Create and run ROS 2 nodes"}),"\n",(0,s.jsx)(n.li,{children:"Implement topic-based communication"}),"\n",(0,s.jsx)(n.li,{children:"Use publishers and subscribers effectively"}),"\n",(0,s.jsx)(n.li,{children:"Debug node communication issues"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"nodes-in-ros-2",children:"Nodes in ROS 2"}),"\n",(0,s.jsx)(n.p,{children:"A node is a collection of processes that perform computation. In ROS 2, nodes are implemented as separate processes that can run on the same or different machines. Nodes communicate with each other using topics, services, and actions."}),"\n",(0,s.jsx)(n.h3,{id:"creating-a-node",children:"Creating a Node"}),"\n",(0,s.jsx)(n.p,{children:"Here's the basic structure of a ROS 2 node:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MyNode(Node):\r\n    def __init__(self):\r\n        super().__init__('node_name')\r\n        # Node initialization code goes here\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    my_node = MyNode()\r\n    \r\n    try:\r\n        rclpy.spin(my_node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        my_node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,s.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages. Messages are data structures that are passed between nodes. ROS 2 provides several built-in message types and allows users to define custom messages."}),"\n",(0,s.jsx)(n.h3,{id:"publisher-and-subscriber",children:"Publisher and Subscriber"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Publisher example\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello World: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\r\n\r\n# Subscriber example\r\nclass MinimalSubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_publisher = MinimalPublisher()\r\n    minimal_subscriber = MinimalSubscriber()\r\n\r\n    rclpy.spin(minimal_subscriber)\r\n\r\n    minimal_publisher.destroy_node()\r\n    minimal_subscriber.destroy_node()\r\n    rclpy.shutdown()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"advanced-topic-concepts",children:"Advanced Topic Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 provides Quality of Service (QoS) settings that allow fine-tuning of communication behavior:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, QoSDurabilityPolicy, QoSHistoryPolicy, QoSReliabilityPolicy\r\n\r\n# Create a custom QoS profile\r\nqos_profile = QoSProfile(\r\n    depth=10,\r\n    durability=QoSDurabilityPolicy.VOLATILE,\r\n    history=QoSHistoryPolicy.KEEP_LAST,\r\n    reliability=QoSReliabilityPolicy.RELIABLE\r\n)\r\n\r\n# Use it when creating a publisher\r\npublisher = node.create_publisher(String, 'topic', qos_profile)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"topic-commands",children:"Topic Commands"}),"\n",(0,s.jsx)(n.p,{children:"Useful command-line tools for working with topics:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# List all topics\r\nros2 topic list\r\n\r\n# Echo messages on a topic\r\nros2 topic echo /topic_name\r\n\r\n# Print information about a topic\r\nros2 topic info /topic_name\r\n\r\n# Publish a message to a topic\r\nros2 topic pub /topic_name std_msgs/String \"data: 'Hello World'\"\n"})}),"\n",(0,s.jsx)(n.h2,{id:"practical-example-temperature-sensor",children:"Practical Example: Temperature Sensor"}),"\n",(0,s.jsx)(n.p,{children:"Let's implement a complete example with a temperature sensor that publishes readings and a monitor that subscribes to those readings:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# temperature_publisher.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import Float32\r\nimport random\r\n\r\nclass TemperaturePublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('temperature_publisher')\r\n        self.publisher_ = self.create_publisher(Float32, 'temperature', 10)\r\n        timer_period = 1.0  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        \r\n    def timer_callback(self):\r\n        msg = Float32()\r\n        # Simulate temperature reading (20-30 degrees Celsius)\r\n        msg.data = 20.0 + random.uniform(0, 10)\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info(f'Publishing temperature: {msg.data:.2f}\xb0C')\r\n\r\n# temperature_subscriber.py\r\nclass TemperatureMonitor(Node):\r\n    def __init__(self):\r\n        super().__init__('temperature_monitor')\r\n        self.subscription = self.create_subscription(\r\n            Float32,\r\n            'temperature',\r\n            self.temperature_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def temperature_callback(self, msg):\r\n        temperature = msg.data\r\n        if temperature > 25.0:\r\n            self.get_logger().warn(f'High temperature detected: {temperature:.2f}\xb0C')\r\n        else:\r\n            self.get_logger().info(f'Temperature: {temperature:.2f}\xb0C')\n"})}),"\n",(0,s.jsx)(n.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"ros2 topic list"})," to verify your topics exist"]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"ros2 topic echo /topic_name"})," to see if messages are being published"]}),"\n",(0,s.jsxs)(n.li,{children:["Check node logs with ",(0,s.jsx)(n.code,{children:"ros2 run --prefix 'gdb -ex run --args' package_name node_name"})," for debugging"]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"rqt_graph"})," to visualize the node communication graph"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"hardware-considerations",children:"Hardware Considerations"}),"\n",(0,s.jsx)(n.p,{children:"When working with actual hardware nodes:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure network connectivity between nodes"}),"\n",(0,s.jsx)(n.li,{children:"Consider bandwidth limitations for sensor data"}),"\n",(0,s.jsx)(n.li,{children:"Account for latency in real-time applications"}),"\n",(0,s.jsx)(n.li,{children:"Implement appropriate error handling for hardware communication"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"This week covered nodes and topics, the fundamental building blocks of ROS 2 communication. You learned how to create nodes, implement publishers and subscribers, and work with different message types. Next week, we'll explore services and actions for different communication patterns."}),"\n",(0,s.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a node that publishes the current system time"}),"\n",(0,s.jsx)(n.li,{children:"Create a subscriber that logs any published timestamps"}),"\n",(0,s.jsx)(n.li,{children:"Implement a QoS configuration that ensures durability for critical messages"}),"\n",(0,s.jsx)(n.li,{children:"Debug a provided node with a communication issue"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var i=r(6540);const s={},o=i.createContext(s);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);
"use strict";(globalThis.webpackChunkphysical_ai_platform_frontend=globalThis.webpackChunkphysical_ai_platform_frontend||[]).push([[2945],{6884:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"module-3/week-3-advanced-isaac-sim/3-1-advanced-isaac-sim-techniques","title":"Week 3: Advanced Isaac Sim","description":"Overview","source":"@site/docs/module-3/week-3-advanced-isaac-sim/3-1-advanced-isaac-sim-techniques.md","sourceDirName":"module-3/week-3-advanced-isaac-sim","slug":"/module-3/week-3-advanced-isaac-sim/3-1-advanced-isaac-sim-techniques","permalink":"/docs/module-3/week-3-advanced-isaac-sim/3-1-advanced-isaac-sim-techniques","draft":false,"unlisted":false,"editUrl":"https://github.com/noor-ana/physical-ai-platform/tree/main/docs/module-3/week-3-advanced-isaac-sim/3-1-advanced-isaac-sim-techniques.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"difficulty":"intermediate"},"sidebar":"tutorialSidebar","previous":{"title":"Week 2: Isaac ROS Basics","permalink":"/docs/module-3/week-2-isaac-ros-basics/2-1-introduction-to-isaac-ros"},"next":{"title":"Week 4: Isaac Sim Applications","permalink":"/docs/module-3/week-4-isaac-sim-applications/4-1-isaac-sim-applications"}}');var t=r(4848),a=r(8453);const s={sidebar_position:2,difficulty:"intermediate"},o="Week 3: Advanced Isaac Sim",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Advanced Scene Creation",id:"advanced-scene-creation",level:2},{value:"USD Scene Composition",id:"usd-scene-composition",level:3},{value:"Photorealistic Lighting",id:"photorealistic-lighting",level:3},{value:"Physics Simulation",id:"physics-simulation",level:2},{value:"Advanced Physics Properties",id:"advanced-physics-properties",level:3},{value:"Custom Physics Simulation",id:"custom-physics-simulation",level:3},{value:"Synthetic Data Generation",id:"synthetic-data-generation",level:2},{value:"Dataset Collection Pipeline",id:"dataset-collection-pipeline",level:3},{value:"Domain Randomization",id:"domain-randomization",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Simulation Optimization Techniques",id:"simulation-optimization-techniques",level:3},{value:"Practical Exercise",id:"practical-exercise",level:2},{value:"Summary",id:"summary",level:2}];function m(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"week-3-advanced-isaac-sim",children:"Week 3: Advanced Isaac Sim"})}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"This week delves into advanced techniques for using Isaac Sim, NVIDIA's comprehensive robotics simulation environment, focusing on photorealistic rendering, physics simulation, and synthetic data generation for AI development."}),"\n",(0,t.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,t.jsx)(n.p,{children:"By the end of this week, you will:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Master advanced Isaac Sim scene creation and lighting"}),"\n",(0,t.jsx)(n.li,{children:"Implement realistic physics and material properties"}),"\n",(0,t.jsx)(n.li,{children:"Generate synthetic datasets for AI training"}),"\n",(0,t.jsx)(n.li,{children:"Optimize simulation for large-scale robotic testing"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"advanced-scene-creation",children:"Advanced Scene Creation"}),"\n",(0,t.jsx)(n.h3,{id:"usd-scene-composition",children:"USD Scene Composition"}),"\n",(0,t.jsx)(n.p,{children:"Isaac Sim uses Universal Scene Description (USD) as its primary scene format, allowing for complex scene composition:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Advanced USD scene creation in Isaac Sim\r\nimport omni\r\nfrom omni.isaac.core import World\r\nfrom omni.isaac.core.utils.stage import add_reference_to_stage\r\nfrom omni.isaac.core.utils.prims import get_prim_at_path\r\nimport carb\r\n\r\nclass AdvancedSceneSetup:\r\n    def __init__(self):\r\n        self.world = World(stage_units_in_meters=1.0)\r\n        \r\n    def setup_complex_scene(self):\r\n        # Add complex factory environment\r\n        add_reference_to_stage(\r\n            usd_path="omniverse://localhost/NVIDIA/Assets/Isaac/4.1/Isaac/Environments/"\r\n                    "hospital.usd",\r\n            prim_path="/World/hospital"\r\n        )\r\n        \r\n        # Add dynamic objects\r\n        self.add_dynamic_objects()\r\n        \r\n        # Configure advanced lighting\r\n        self.setup_advanced_lighting()\r\n    \r\n    def add_dynamic_objects(self):\r\n        # Add moving conveyor belt\r\n        from omni.isaac.core.objects import DynamicCuboid\r\n        \r\n        conveyor = DynamicCuboid(\r\n            prim_path="/World/conveyor/belt",\r\n            name="conveyor_belt",\r\n            position=[0, 0, 0.1],\r\n            size=1.0,\r\n            mass=1.0\r\n        )\r\n        \r\n        # Add objects to conveyor\r\n        for i in range(5):\r\n            obj = DynamicCuboid(\r\n                prim_path=f"/World/conveyor/object_{i}",\r\n                name=f"object_{i}",\r\n                position=[0, i * 0.5, 0.5],\r\n                size=0.2,\r\n                mass=0.1\r\n            )\n'})}),"\n",(0,t.jsx)(n.h3,{id:"photorealistic-lighting",children:"Photorealistic Lighting"}),"\n",(0,t.jsx)(n.p,{children:"Isaac Sim includes Physically Based Rendering (PBR) capabilities for photorealistic simulation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Advanced lighting setup\r\ndef setup_advanced_lighting(self):\r\n    # Add dome light for global illumination\r\n    from omni.isaac.core.utils.prims import create_prim\r\n    \r\n    create_prim(\r\n        prim_path="/World/DomeLight",\r\n        prim_type="DomeLight",\r\n        position=[0, 0, 0],\r\n        attributes={\r\n            "inputs:color": (0.2, 0.2, 0.2),  # Environment color\r\n            "inputs:intensity": 3000.0        # Intensity in lumens\r\n        }\r\n    )\r\n    \r\n    # Add IBL (Image Based Lighting)\r\n    from pxr import UsdLux\r\n    \r\n    dome_light = get_prim_at_path("/World/DomeLight")\r\n    UsdLux.DomeLightAPI.Apply(dome_light)\r\n    \r\n    # Configure IBL texture\r\n    carb.settings.get_settings().set("/rtx/rendering/cullMode", 0)\r\n    \r\n    # Add directional light (sun)\r\n    create_prim(\r\n        prim_path="/World/Sun",\r\n        prim_type="DistantLight",\r\n        position=[0, 0, 50],\r\n        orientation=[-0.707, 0, -0.707, 0],  # Pointing downward\r\n        attributes={\r\n            "inputs:color": (0.9, 0.9, 0.9),\r\n            "inputs:intensity": 500.0\r\n        }\r\n    )\n'})}),"\n",(0,t.jsx)(n.h2,{id:"physics-simulation",children:"Physics Simulation"}),"\n",(0,t.jsx)(n.h3,{id:"advanced-physics-properties",children:"Advanced Physics Properties"}),"\n",(0,t.jsx)(n.p,{children:"Configure realistic physics parameters for accurate simulation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Advanced physics configuration\r\ndef setup_advanced_physics(self):\r\n    # Get physics scene\r\n    scene = self.world.scene\r\n    scene.enable_physics()\r\n    \r\n    # Configure PhysX physics properties\r\n    scene.set_physics_dt(1.0/60.0, substeps=1)  # Physics timestep\r\n    \r\n    # Set gravity\r\n    scene.enable_gravities = True\r\n    from omni.isaac.core.utils.physics import set_gravity\r\n    set_gravity([0, 0, -9.81])  # Standard gravity\r\n    \r\ndef setup_material_properties(self, prim_path):\r\n    # Create advanced material properties\r\n    from omni.isaac.core.materials import PhysicsMaterial\r\n    from omni.kit.primitive.mesh.materials import Material\r\n    \r\n    # Create physics material\r\n    physics_material = PhysicsMaterial(\r\n        prim_path=f"{prim_path}/physics_material",\r\n        static_friction=0.5,\r\n        dynamic_friction=0.4,\r\n        restitution=0.2  # Bounciness\r\n    )\r\n    \r\n    # Create visual material\r\n    visual_material = Material(\r\n        prim_path=f"{prim_path}/visual_material",\r\n        diffuse_color=(0.8, 0.1, 0.1),  # Red material\r\n        metallic=0.1,\r\n        roughness=0.2,\r\n        clearcoat=0.0,\r\n        clearcoat_roughness=0.0,\r\n        opacity=1.0\r\n    )\r\n    \r\n    # Apply materials to prim\r\n    import omni.kit.commands\r\n    omni.kit.commands.execute(\r\n        "BindMaterialToPrim",\r\n        prim_path=prim_path,\r\n        material_path=visual_material.prim_path\r\n    )\n'})}),"\n",(0,t.jsx)(n.h3,{id:"custom-physics-simulation",children:"Custom Physics Simulation"}),"\n",(0,t.jsx)(n.p,{children:"Implement custom physics behaviors:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Custom physics behavior example\r\nfrom omni.isaac.core import Actor\r\nfrom omni.isaac.core.utils.prims import get_prim_at_path\r\nimport numpy as np\r\n\r\nclass CustomPhysicsBehavior:\r\n    def __init__(self, robot_prim_path):\r\n        self.robot_prim = get_prim_at_path(robot_prim_path)\r\n        \r\n    def apply_custom_force(self, force_vector, position):\r\n        # Apply custom forces for special physics behavior\r\n        from omni.isaac.core.utils.physics import apply_force_at_pos\r\n        \r\n        apply_force_at_pos(\r\n            prim_path=self.robot_prim.GetPrimPath().pathString,\r\n            force=force_vector,\r\n            position=position\r\n        )\r\n    \r\n    def simulate_deformable_objects(self):\r\n        # Example of simulating deformable objects using NVIDIA FleX\r\n        from omni.physx import get_physx_interface\r\n        \r\n        physx = get_physx_interface()\r\n        # Configure FleX simulation parameters\r\n        physx.set_parameter("flex", True)\r\n        physx.set_parameter("flex_relaxation", 0.8)\r\n        physx.set_parameter("flex_solid_rest", 0.5)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"synthetic-data-generation",children:"Synthetic Data Generation"}),"\n",(0,t.jsx)(n.h3,{id:"dataset-collection-pipeline",children:"Dataset Collection Pipeline"}),"\n",(0,t.jsx)(n.p,{children:"Create synthetic datasets for AI training:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Synthetic dataset generation\r\nfrom omni.isaac.core.utils.viewports import set_camera_view\r\nfrom omni.isaac.synthetic_utils import SyntheticDataHelper\r\nimport cv2\r\nimport numpy as np\r\n\r\nclass SyntheticDatasetGenerator:\r\n    def __init__(self, world, output_dir):\r\n        self.world = world\r\n        self.output_dir = output_dir\r\n        self.sd_helper = SyntheticDataHelper()\r\n        \r\n        # Configure sensors for data collection\r\n        self.setup_sensors()\r\n    \r\n    def setup_sensors(self):\r\n        # Add RGB camera\r\n        from omni.isaac.sensor import Camera\r\n        \r\n        self.camera = Camera(\r\n            prim_path="/World/RGB_Camera",\r\n            position=[0.5, 0.5, 1.0],\r\n            frequency=30  # Hz\r\n        )\r\n        \r\n        # Add depth camera\r\n        self.depth_camera = Camera(\r\n            prim_path="/World/Depth_Camera",\r\n            position=[0.5, 0.5, 1.0],\r\n            frequency=30\r\n        )\r\n        \r\n        # Enable depth information\r\n        self.depth_camera.add_raw_separation_result_to_frame()\r\n    \r\n    def capture_synthetic_data(self, num_samples=1000):\r\n        import os\r\n        import json\r\n        \r\n        # Create output directories\r\n        rgb_dir = os.path.join(self.output_dir, "rgb")\r\n        depth_dir = os.path.join(self.output_dir, "depth")\r\n        seg_dir = os.path.join(self.output_dir, "segmentation")\r\n        \r\n        for dir_path in [rgb_dir, depth_dir, seg_dir]:\r\n            os.makedirs(dir_path, exist_ok=True)\r\n        \r\n        for i in range(num_samples):\r\n            # Move objects to new positions\r\n            self.randomize_scene()\r\n            \r\n            # Step the physics simulation\r\n            self.world.step(render=True)\r\n            \r\n            # Capture data\r\n            rgb_img = self.camera.get_rgb()\r\n            depth_img = self.depth_camera.get_depth()\r\n            seg_img = self.get_segmentation_data()\r\n            \r\n            # Save data\r\n            cv2.imwrite(f"{rgb_dir}/rgb_{i:05d}.png", cv2.cvtColor(rgb_img, cv2.COLOR_RGB2BGR))\r\n            cv2.imwrite(f"{depth_dir}/depth_{i:05d}.png", depth_img)\r\n            cv2.imwrite(f"{seg_dir}/seg_{i:05d}.png", seg_img)\r\n            \r\n            # Save metadata\r\n            metadata = {\r\n                "sample_id": i,\r\n                "timestamp": self.world.current_time_step_index,\r\n                "camera_pose": self.get_camera_pose(),\r\n                "object_poses": self.get_object_poses()\r\n            }\r\n            \r\n            with open(f"{self.output_dir}/metadata_{i:05d}.json", \'w\') as f:\r\n                json.dump(metadata, f)\r\n    \r\n    def get_segmentation_data(self):\r\n        # Get semantic segmentation data\r\n        return self.sd_helper.get_semantic_segmentation()\r\n    \r\n    def randomize_scene(self):\r\n        # Randomize object positions, lighting, and textures\r\n        pass\n'})}),"\n",(0,t.jsx)(n.h3,{id:"domain-randomization",children:"Domain Randomization"}),"\n",(0,t.jsx)(n.p,{children:"Implement domain randomization for robust AI training:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import random\r\nimport colorsys\r\n\r\nclass DomainRandomization:\r\n    def __init__(self, world):\r\n        self.world = world\r\n        \r\n    def randomize_lighting(self):\r\n        # Randomize lighting conditions\r\n        dome_light = get_prim_at_path("/World/DomeLight")\r\n        \r\n        # Randomize color temperature (2700K to 6500K)\r\n        color_temp = random.uniform(2700, 6500)\r\n        color = self.color_temperature_to_rgb(color_temp)\r\n        \r\n        dome_light.GetAttribute("inputs:color").Set(color)\r\n        \r\n        # Randomize intensity\r\n        intensity = random.uniform(1000, 5000)\r\n        dome_light.GetAttribute("inputs:intensity").Set(intensity)\r\n    \r\n    def color_temperature_to_rgb(self, color_temp):\r\n        """\r\n        Convert color temperature in Kelvin to RGB values.\r\n        """\r\n        temp = color_temp / 100\r\n        if temp <= 66:\r\n            red = 255\r\n            green = temp\r\n            green = 99.4708025861 * math.log(green) - 161.1195681661\r\n        else:\r\n            red = temp - 60\r\n            red = 329.698727446 * (red ** -0.1332047592)\r\n            green = temp - 60\r\n            green = 288.1221695283 * (green ** -0.0755148492)\r\n            \r\n        if temp >= 66:\r\n            blue = 255\r\n        elif temp <= 19:\r\n            blue = 0\r\n        else:\r\n            blue = temp - 10\r\n            blue = 138.5177312231 * math.log(blue) - 305.0447927307\r\n            \r\n        # Clamp values to 0-255 range\r\n        red = max(0, min(255, red))\r\n        green = max(0, min(255, green))\r\n        blue = max(0, min(255, blue))\r\n        \r\n        return (red/255, green/255, blue/255)\r\n    \r\n    def randomize_materials(self):\r\n        # Randomize material properties for domain randomization\r\n        material_prims = self.get_material_prims()\r\n        \r\n        for prim in material_prims:\r\n            # Randomize diffuse color\r\n            hue = random.random()\r\n            saturation = random.uniform(0.5, 1.0)\r\n            value = random.uniform(0.5, 1.0)\r\n            rgb = colorsys.hsv_to_rgb(hue, saturation, value)\r\n            \r\n            prim.GetAttribute("inputs:diffuse_color").Set(rgb)\r\n            \r\n            # Randomize roughness\r\n            roughness = random.uniform(0.1, 0.9)\r\n            prim.GetAttribute("inputs:roughness").Set(roughness)\r\n    \r\n    def randomize_objects(self):\r\n        # Randomize object positions, orientations, and count\r\n        pass\n'})}),"\n",(0,t.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,t.jsx)(n.h3,{id:"simulation-optimization-techniques",children:"Simulation Optimization Techniques"}),"\n",(0,t.jsx)(n.p,{children:"Optimize Isaac Sim for performance with large-scale simulations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def optimize_simulation_performance(self):\r\n    # Set rendering quality settings\r\n    carb.settings.get_settings().set("/app/profiling/captureOnExit", False)\r\n    carb.settings.get_settings().set("/app/profiling/captureOnStart", False)\r\n    \r\n    # Disable unnecessary rendering features\r\n    carb.settings.get_settings().set("/rtx/oglEmu/gammaControlEnabled", False)\r\n    carb.settings.get_settings().set("/rtx/enableSuperSampling", False)\r\n    carb.settings.get_settings().set("/rtx/sceneDb/enableSceneDb", False)\r\n    \r\n    # Physics optimization\r\n    carb.settings.get_settings().set("/physics/ag/enable_gpu", True)\r\n    carb.settings.get_settings().set("/physics/ag/buffer_size", 1024)\r\n    \r\n    # Set appropriate timestep\r\n    self.world.set_physics_dt(1.0/30.0, substeps=1)  # Lower frequency for performance\r\n    \r\ndef batch_simulation(self, num_scenarios=50):\r\n    """\r\n    Run batch simulations for testing multiple scenarios efficiently\r\n    """\r\n    results = []\r\n    \r\n    for i in range(num_scenarios):\r\n        # Set up scenario\r\n        self.setup_scenario(i)\r\n        \r\n        # Run simulation\r\n        scenario_result = self.run_scenario()\r\n        results.append(scenario_result)\r\n        \r\n        # Reset for next scenario\r\n        self.reset_scenario()\r\n    \r\n    return results\n'})}),"\n",(0,t.jsx)(n.h2,{id:"practical-exercise",children:"Practical Exercise"}),"\n",(0,t.jsx)(n.p,{children:"This week's exercise involves creating an advanced Isaac Sim environment:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create a complex scene with photorealistic lighting"}),"\n",(0,t.jsx)(n.li,{children:"Implement physics properties for accurate simulation"}),"\n",(0,t.jsx)(n.li,{children:"Generate a synthetic dataset for AI training"}),"\n",(0,t.jsx)(n.li,{children:"Apply domain randomization techniques"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(n.p,{children:"This week covered advanced Isaac Sim techniques including scene creation, physics simulation, synthetic data generation, and performance optimization. You've learned how to create complex simulation environments with photorealistic rendering and generate synthetic datasets for AI training. Next week, we'll explore Isaac Sim applications in real-world robotics."})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>o});var i=r(6540);const t={},a=i.createContext(t);function s(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);
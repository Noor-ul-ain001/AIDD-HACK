"use strict";(globalThis.webpackChunkphysical_ai_platform_frontend=globalThis.webpackChunkphysical_ai_platform_frontend||[]).push([[8353],{5542:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var r=a(6540),o=a(2863),i=a(4164);const n={signupForm:"signupForm_AJRB",slideIn:"slideIn_KM4z",form:"form_oR74",inputGroup:"inputGroup_z4mk",label:"label_wI1y",input:"input_td4T",inputError:"inputError_e8n1",passwordRequirements:"passwordRequirements_yZDk",requirementItem:"requirementItem_eaYN",met:"met_xu_B",unmet:"unmet_jjmX",error:"error_FXiM",fadeIn:"fadeIn_GIzq",passwordStrength:"passwordStrength_OlAq",strengthBar:"strengthBar_oto0",strengthFill:"strengthFill_ykJH",strengthText:"strengthText_jzaL",terms:"terms_STmb",submitButton:"submitButton_nGHa",spinner:"spinner_eRbQ",spin:"spin_OqiG",success:"success_akpS",scaleIn:"scaleIn_xpRu",successIcon:"successIcon_YqyD",bounceIn:"bounceIn_fN_x",fadeInUp:"fadeInUp_Pexk"};var l=a(9345),t=a(4848);function c({onSignup:e,className:s}){const{signup:a}=(0,l.A)(),[o,c]=(0,r.useState)({email:"",password:"",confirmPassword:""}),[d,m]=(0,r.useState)({}),[u,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)({score:0,text:"",color:"#ff6b6b"}),[w,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{g((e=>{let s=0,a="",r="#ff6b6b";return e?(e.length>=8&&(s+=1),e.length>=12&&(s+=1),/[A-Z]/.test(e)&&(s+=1),/[a-z]/.test(e)&&(s+=1),/[0-9]/.test(e)&&(s+=1),/[^A-Za-z0-9]/.test(e)&&(s+=1),s<=2?(a="Weak",r="#ff6b6b"):s<=4?(a="Medium",r="#ffd93d"):(a="Strong",r="#4FA675"),{score:s,text:a,color:r}):{score:0,text:"",color:r}})(o.password))},[o.password]);const x=e=>{const{name:s,value:a}=e.target;c(e=>({...e,[s]:a})),d[s]&&m(e=>({...e,[s]:void 0}))};return w?(0,t.jsxs)("div",{className:(0,i.A)(n.signupForm,n.success),children:[(0,t.jsx)("div",{className:n.successIcon,children:"\u2713"}),(0,t.jsx)("h3",{children:"Account Created Successfully!"}),(0,t.jsx)("p",{children:"Redirecting to your dashboard..."})]}):(0,t.jsxs)("div",{className:(0,i.A)(n.signupForm,s),children:[(0,t.jsx)("h2",{children:"Create Account"}),(0,t.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),(()=>{const e={};if(o.email)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)){const s=o.email.toLowerCase(),[a,r]=s.split("@");["tempmail.com","throwaway.email","guerrillamail.com","mailinator.com","10minutemail.com","trashmail.com","maildrop.cc","temp-mail.org","yopmail.com","fakeinbox.com","getnada.com","throwawaymail.com","temp-mail.io"].includes(r)&&(e.email="Temporary or disposable email addresses are not allowed"),(["localhost","localdomain","test","example","invalid","localhost.localdomain"].includes(r)||r.endsWith(".local")||r.endsWith(".test")||r.endsWith(".invalid"))&&(e.email="Please use a valid email address (not test domains)");const i=[/^test/,/^dummy/,/^fake/,/^example/,/^sample/,/^temp/,/^user\d+/,/^admin/,/^root/,/^email/,/^mail/,/^myemail/,/^a+$/,/^x+$/,/^[0-9]+$/];["test","admin","noreply","no-reply","dummy","fake","sample","example","user","username","your-email","your_email","email","mail","contact","info"].includes(a)&&(e.email="Please use a valid personal email address");for(const o of i)if(o.test(a)){e.email="Please use a valid personal email address";break}}else e.email="Please enter a valid email address";else e.email="Email is required";return o.password?o.password.length<8?e.password="Password must be at least 8 characters":/[A-Z]/.test(o.password)?/[a-z]/.test(o.password)?/[0-9]/.test(o.password)?/[^A-Za-z0-9]/.test(o.password)?h.score<=2&&(e.password="Please use a stronger password"):e.password="Password must contain at least one special character":e.password="Password must contain at least one number":e.password="Password must contain at least one lowercase letter":e.password="Password must contain at least one uppercase letter":e.password="Password is required",o.password!==o.confirmPassword&&(e.confirmPassword="Passwords do not match"),m(e),0===Object.keys(e).length})()){console.log("[SIGNUP FORM] Starting signup process for:",o.email),p(!0);try{console.log("[SIGNUP FORM] Calling backend signup API...");const s=await a(o.email,o.password,!1);if(console.log("[SIGNUP FORM] Backend response:",s),!s.success){console.log("[SIGNUP FORM] Signup failed with error:",s.error);let e="email",a=s.error||"Signup failed. Please try again.";return s.error?.toLowerCase().includes("already exists")||s.error?.toLowerCase().includes("already registered")?(e="email",a="This email is already registered. Please sign in or use a different email."):s.error?.toLowerCase().includes("password")?e="password":s.error?.toLowerCase().includes("email")&&(e="email"),m({[e]:a}),p(!1),void console.log("[SIGNUP FORM] Staying on signup form due to error")}console.log("[SIGNUP FORM] Signup successful! Calling parent onSignup callback..."),e?.(o),console.log("[SIGNUP FORM] Parent callback completed")}catch(r){console.error("Signup error:",r),m({email:"An unexpected error occurred. Please try again."})}finally{p(!1)}}},className:n.form,children:[(0,t.jsxs)("div",{className:n.inputGroup,children:[(0,t.jsx)("label",{htmlFor:"email",className:n.label,children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:x,className:(0,i.A)(n.input,d.email&&n.inputError),placeholder:"your.email@example.com"}),d.email&&(0,t.jsx)("span",{className:n.error,children:d.email})]}),(0,t.jsxs)("div",{className:n.inputGroup,children:[(0,t.jsx)("label",{htmlFor:"password",className:n.label,children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:o.password,onChange:x,className:(0,i.A)(n.input,d.password&&n.inputError),placeholder:"At least 8 characters"}),o.password&&(0,t.jsxs)("div",{className:n.passwordStrength,children:[(0,t.jsx)("div",{className:n.strengthBar,children:(0,t.jsx)("div",{className:n.strengthFill,style:{width:h.score/6*100+"%",background:h.color}})}),(0,t.jsxs)("div",{className:n.strengthText,children:["Password strength: ",(0,t.jsx)("strong",{style:{color:h.color},children:h.text})]})]}),o.password&&(0,t.jsxs)("div",{className:n.passwordRequirements,children:[(0,t.jsxs)("div",{className:n.requirementItem,children:[(0,t.jsx)("span",{className:o.password.length>=8?n.met:n.unmet,children:"\u2713"}),(0,t.jsx)("span",{children:"At least 8 characters"})]}),(0,t.jsxs)("div",{className:n.requirementItem,children:[(0,t.jsx)("span",{className:/[A-Z]/.test(o.password)?n.met:n.unmet,children:"\u2713"}),(0,t.jsx)("span",{children:"One uppercase letter"})]}),(0,t.jsxs)("div",{className:n.requirementItem,children:[(0,t.jsx)("span",{className:/[a-z]/.test(o.password)?n.met:n.unmet,children:"\u2713"}),(0,t.jsx)("span",{children:"One lowercase letter"})]}),(0,t.jsxs)("div",{className:n.requirementItem,children:[(0,t.jsx)("span",{className:/[0-9]/.test(o.password)?n.met:n.unmet,children:"\u2713"}),(0,t.jsx)("span",{children:"One number"})]}),(0,t.jsxs)("div",{className:n.requirementItem,children:[(0,t.jsx)("span",{className:/[^A-Za-z0-9]/.test(o.password)?n.met:n.unmet,children:"\u2713"}),(0,t.jsx)("span",{children:"One special character"})]})]}),d.password&&(0,t.jsx)("span",{className:n.error,children:d.password})]}),(0,t.jsxs)("div",{className:n.inputGroup,children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:n.label,children:"Confirm Password"}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:x,className:(0,i.A)(n.input,d.confirmPassword&&n.inputError),placeholder:"Confirm your password"}),d.confirmPassword&&(0,t.jsx)("span",{className:n.error,children:d.confirmPassword})]}),(0,t.jsxs)("div",{className:n.terms,children:["By signing up, you agree to our"," ",(0,t.jsx)("a",{href:"/terms",children:"Terms of Service"})," and"," ",(0,t.jsx)("a",{href:"/privacy",children:"Privacy Policy"}),"."]}),(0,t.jsx)("button",{type:"submit",className:n.submitButton,disabled:u,children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:n.spinner}),"Creating Account..."]}):"Sign Up"})]})]})}const d={main:"main_AD2s",container:"container_f5jb",stepContainer:"stepContainer_Wh6o",subtitle:"subtitle_DTxh",loginLink:"loginLink_ZjSO",loadingState:"loadingState_b3bX",spinner:"spinner_sGGY",spin:"spin_L9hj",successMessage:"successMessage_eRA6",continueButton:"continueButton_B_me"};function m(){const[e,s]=(0,r.useState)("signup"),[i,n]=(0,r.useState)("");return(0,t.jsx)(o.A,{title:"Sign Up",description:"Create your Physical AI & Humanoid Robotics account",children:(0,t.jsx)("main",{className:d.main,children:(0,t.jsxs)("div",{className:d.container,children:["signup"===e&&(0,t.jsxs)("div",{className:d.stepContainer,children:[(0,t.jsx)("h1",{children:"Create Your Account"}),(0,t.jsx)("p",{className:d.subtitle,children:"Join the Physical AI & Humanoid Robotics educational platform"}),(0,t.jsx)(c,{onSignup:async e=>{console.log("[SIGNUP FLOW] Signup successful, showing email verification"),console.log("[SIGNUP FLOW] User email:",e.email),n(e.email),s("verification")}}),(0,t.jsxs)("div",{className:d.loginLink,children:["Already have an account? ",(0,t.jsx)("a",{href:"/signin",children:"Sign in here"})]})]}),"loading"===e&&(0,t.jsxs)("div",{className:d.stepContainer,children:[(0,t.jsx)("h1",{children:"Creating Your Account"}),(0,t.jsx)("p",{className:d.subtitle,children:"Please wait while we set up your profile..."}),(0,t.jsxs)("div",{className:d.loadingState,children:[(0,t.jsx)("div",{className:d.spinner}),(0,t.jsx)("p",{children:"Securing your account"})]})]}),"profile"===e&&(0,t.jsxs)("div",{className:d.stepContainer,children:[(0,t.jsx)("h1",{children:"Welcome! Complete Your Profile"}),(0,t.jsx)("p",{className:d.subtitle,children:"Help us personalize your learning experience"}),(0,t.jsx)(ProfileQuestionnaire,{onSubmit:async e=>{if(console.log("[SIGNUP FLOW] Profile submitted:",e),console.log("[SIGNUP FLOW] Setting step to complete"),s("complete"),userFormData)try{console.log("[SIGNUP FLOW] Logging in user:",userFormData.email);const s=await login(userFormData.email,userFormData.password);if(s.success){console.log("[SIGNUP FLOW] Login successful, saving profile data...");const{AuthAPI:s}=await Promise.resolve().then(a.bind(a,2781)),r=await s.updateProfile({hardware_profile:{gpu:e.hardwareProfile.gpu,robotics_kit:e.hardwareProfile.roboticsKit,experience_level:e.hardwareProfile.experienceLevel},learning_goals:e.learningGoals});r.error?console.error("[SIGNUP FLOW] Failed to save profile:",r.error):console.log("[SIGNUP FLOW] Profile saved successfully"),console.log("[SIGNUP FLOW] Will redirect in 3 seconds"),setTimeout(()=>{console.log("[SIGNUP FLOW] Redirecting to dashboard"),window.location.href="/"},3e3)}else console.error("[SIGNUP FLOW] Login failed:",s.error)}catch(r){console.error("[SIGNUP FLOW] Login after profile submission failed:",r)}else console.error("[SIGNUP FLOW] ERROR: No user form data available!")},initialData:{hardwareProfile:{gpu:"",roboticsKit:"",experienceLevel:""},learningGoals:[]}})]}),"complete"===e&&(0,t.jsxs)("div",{className:d.stepContainer,children:[(0,t.jsx)("h1",{children:"Account Created Successfully!"}),(0,t.jsx)("p",{className:d.subtitle,children:"Welcome to the Physical AI & Humanoid Robotics platform."}),(0,t.jsxs)("div",{className:d.successMessage,children:[(0,t.jsx)("p",{children:"Your account has been created and your profile is set up."}),(0,t.jsx)("p",{children:"You can now access the curriculum and start learning."})]}),(0,t.jsx)("a",{href:"/dashboard",className:d.continueButton,children:"Continue to Dashboard"})]})]})})})}}}]);